(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6419],{6756:function(e,t,r){Promise.resolve().then(r.bind(r,88394)),Promise.resolve().then(r.bind(r,63705)),Promise.resolve().then(r.bind(r,76894))},88394:function(e,t,r){"use strict";r.d(t,{Header:function(){return y}});var a=r(57437),s=r(87138),l=r(2265),i=r(78030);let n=(0,i.Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),d=(0,i.Z)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);var c=r(42421);let o=(0,i.Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),h=(0,i.Z)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),u=(0,i.Z)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var x=r(45447);function m(e){let{notifications:t}=e;return t&&0!==t.length?(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto",children:t.map(e=>(0,a.jsxs)("div",{className:"px-4 py-3 border-b border-gray-100",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.created_at?new Date(e.created_at).toLocaleString():""})]},e.id))}):(0,a.jsx)("div",{className:"p-4 text-sm text-gray-600",children:"No new notifications"})}function y(){let[e,t]=(0,l.useState)(!1),[r,i]=(0,l.useState)([]),[y,g]=(0,l.useState)(null),[f,b]=(0,l.useState)(null);(0,l.useEffect)(()=>{let e=!1;async function t(){try{let t=await fetch("/api/builder/notifications?unread=true",{next:{revalidate:0}});if(t.ok){let r=await t.json();e||i(r)}}catch(e){}}t();let r=setInterval(t,6e4);return()=>{e=!0,clearInterval(r)}},[]),(0,l.useEffect)(()=>{try{let e=localStorage.getItem("thg.userName"),t=localStorage.getItem("thg.company");e&&g(e),t&&b(t)}catch(e){}},[]);let p=(0,l.useMemo)(()=>r.filter(e=>!e.read).length,[r]),v=(y||"B").charAt(0).toUpperCase();return(0,a.jsxs)("header",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-4 lg:px-8 shadow-sm sticky top-0 z-40",children:[(0,a.jsx)("div",{children:(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"})}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("button",{className:"hidden lg:flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[(0,a.jsx)(n,{className:"w-4 h-4 text-gray-600"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Search..."}),(0,a.jsx)("kbd",{className:"px-2 py-0.5 bg-white border border-gray-300 rounded text-xs text-gray-500",children:"âŒ˜K"})]}),(0,a.jsxs)(x.J2,{open:e,onOpenChange:t,children:[(0,a.jsx)(x.xo,{asChild:!0,children:(0,a.jsxs)("button",{className:"relative p-2 hover:bg-gray-100 rounded-lg transition-colors",children:[(0,a.jsx)(d,{className:"w-5 h-5 text-gray-700"}),p>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-gold-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:p})]})}),(0,a.jsx)(x.yk,{className:"w-80 p-0",align:"end",children:(0,a.jsx)(m,{notifications:r})})]}),(0,a.jsxs)(x.h_,{children:[(0,a.jsx)(x.$F,{asChild:!0,children:(0,a.jsxs)("button",{className:"flex items-center gap-3 hover:bg-gray-100 rounded-lg px-3 py-2 transition-colors",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-gold-500 to-gold-600 flex items-center justify-center text-white font-semibold",children:v}),(0,a.jsxs)("div",{className:"hidden lg:block text-left",children:[(0,a.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:y||"Builder"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:f||"Company"})]}),(0,a.jsx)(c.Z,{className:"w-4 h-4 text-gray-600"})]})}),(0,a.jsxs)(x.AW,{align:"end",className:"w-56",children:[(0,a.jsx)(x.Xi,{asChild:!0,children:(0,a.jsxs)(s.default,{href:"/builder/settings/profile",children:[(0,a.jsx)(o,{className:"w-4 h-4 mr-2"}),"Profile Settings"]})}),(0,a.jsx)(x.Xi,{asChild:!0,children:(0,a.jsxs)(s.default,{href:"/builder/settings/billing",children:[(0,a.jsx)(h,{className:"w-4 h-4 mr-2"}),"Billing"]})}),(0,a.jsx)(x.VD,{}),(0,a.jsxs)(x.Xi,{onSelect:()=>{localStorage.removeItem("thg.userName"),location.href="/"},children:[(0,a.jsx)(u,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})]})]})}},63705:function(e,t,r){"use strict";r.d(t,{Sidebar:function(){return v}});var a=r(57437),s=r(87138),l=r(16463),i=r(2265),n=r(37440),d=r(78030);let c=(0,d.Z)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var o=r(11240);let h=(0,d.Z)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]);var u=r(51077);let x=(0,d.Z)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),m=(0,d.Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),y=(0,d.Z)("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]),g=(0,d.Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),f=(0,d.Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),b=(0,d.Z)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),p=[{href:"/builder",label:"Overview",icon:c,badge:null,requiresPro:!1},{href:"/builder/leads",label:"Leads",icon:o.Z,badge:"12",requiresPro:!1,submenu:[{href:"/builder/leads",label:"All Leads"},{href:"/builder/leads/pipeline",label:"Pipeline"},{href:"/builder/leads/analytics",label:"Analytics"}]},{href:"/builder/properties",label:"Properties",icon:h,requiresPro:!1,submenu:[{href:"/builder/properties",label:"Manage"},{href:"/builder/properties/performance",label:"Performance"},{href:"/builder/properties/insights",label:"AI Insights"}]},{href:"/builder/revenue",label:"Revenue",icon:u.Z,requiresPro:!0,submenu:[{href:"/builder/revenue",label:"Overview"},{href:"/builder/revenue/payments",label:"Payments"},{href:"/builder/revenue/forecasting",label:"Forecasting"}]},{href:"/builder/communications",label:"Communications",icon:x,requiresPro:!0},{href:"/builder/settings",label:"Settings",icon:m,requiresPro:!1}];function v(){var e,t,r;let d=(0,l.usePathname)(),[c,o]=(0,i.useState)(null);(0,i.useEffect)(()=>{let e=!1;return async function(){try{let t=await fetch("/api/builder/subscription",{next:{revalidate:0}});if(!t.ok)throw Error("Failed");let r=await t.json();e||o(r)}catch(t){e||o({tier:"trial",trial_leads_used:0,days_remaining:14})}}(),()=>{e=!0}},[]);let h=(0,i.useMemo)(()=>p,[]);return(0,a.jsxs)("aside",{className:"w-64 bg-gradient-to-b from-primary-950 to-primary-900 text-white flex flex-col shadow-2xl h-screen sticky top-0",children:[(0,a.jsx)("div",{className:"p-6 border-b border-white/10",children:(0,a.jsxs)(s.default,{href:"/builder",className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gold-500 rounded-lg flex items-center justify-center",children:(0,a.jsx)(y,{className:"w-6 h-6 text-primary-950"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-bold text-lg",children:"Tharaga"}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"Builder Portal"})]})]})}),(null==c?void 0:c.tier)==="trial"&&(0,a.jsxs)("div",{className:"mx-4 mt-4 p-4 bg-gold-500/20 backdrop-blur-sm border border-gold-500/30 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(g,{className:"w-4 h-4 text-gold-400"}),(0,a.jsx)("span",{className:"text-sm font-semibold text-gold-300",children:"Trial Active"})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-300 mb-2",children:[null!==(e=c.trial_leads_used)&&void 0!==e?e:0," of 10 leads used"]}),(0,a.jsx)("div",{className:"w-full bg-primary-800 rounded-full h-2 mb-2",children:(0,a.jsx)("div",{className:"bg-gold-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(((null!==(t=c.trial_leads_used)&&void 0!==t?t:0)/10*100).toFixed(0),"%")}})}),(0,a.jsxs)("div",{className:"text-xs text-gray-400",children:[null!==(r=c.days_remaining)&&void 0!==r?r:0," days remaining"]}),(0,a.jsx)(s.default,{href:"/builder/upgrade",className:"mt-3 w-full block text-center py-2 bg-gold-500 hover:bg-gold-600 text-primary-950 font-semibold rounded-lg text-sm transition-colors",children:"Upgrade Now"})]}),(0,a.jsx)("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:h.map(e=>{let t=d===e.href||d.startsWith(e.href+"/"),r=(null==c?void 0:c.tier)==="trial"&&!!e.requiresPro;return(0,a.jsxs)("div",{children:[(0,a.jsxs)(s.default,{href:r?"#":e.href,className:(0,n.cn)("flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 group relative border-l-4",t?"bg-gold-500/20 border-gold-500 text-white":"text-gray-400 hover:bg-white/5 hover:text-white border-transparent",r&&"opacity-50 cursor-not-allowed"),onClick:r?e=>e.preventDefault():void 0,children:[(0,a.jsx)(e.icon,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:e.label}),e.badge&&(0,a.jsx)("span",{className:"ml-auto px-2 py-0.5 bg-emerald-500 text-white text-xs font-bold rounded-full",children:e.badge}),r&&(0,a.jsx)(f,{className:"ml-auto w-4 h-4"})]}),e.submenu&&t&&(0,a.jsx)("div",{className:"ml-8 mt-1 space-y-1",children:e.submenu.map(e=>(0,a.jsx)(s.default,{href:e.href,className:(0,n.cn)("block px-4 py-2 text-sm rounded-lg transition-colors",d===e.href?"text-gold-400 font-medium":"text-gray-400 hover:text-white"),children:e.label},e.href))})]},e.href)})}),(0,a.jsx)("div",{className:"p-4 border-t border-white/10",children:(0,a.jsxs)(s.default,{href:"/builder/help",className:"flex items-center gap-3 px-4 py-3 text-gray-400 hover:bg-white/5 hover:text-white rounded-lg transition-all",children:[(0,a.jsx)(b,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:"Help & Support"})]})})]})}},76894:function(e,t,r){"use strict";r.d(t,{ReactQueryProvider:function(){return n}});var a=r(57437),s=r(2265),l=r(8699),i=r(93191);function n(e){let{children:t}=e,[r]=(0,s.useState)(()=>new l.S({defaultOptions:{queries:{staleTime:3e4,refetchOnWindowFocus:!1,retry:1}}}));return(0,a.jsx)(i.aH,{client:r,children:t})}},42421:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(78030).Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},51077:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(78030).Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},11240:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(78030).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},16463:function(e,t,r){"use strict";var a=r(71169);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})}},function(e){e.O(0,[1048,1336,8869,1668,5447,2971,3526,1744],function(){return e(e.s=6756)}),_N_E=e.O()}]);