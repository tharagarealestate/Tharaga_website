(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2181],{82629:function(e,t,s){Promise.resolve().then(s.bind(s,22400))},22400:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var i=s(57437),a=s(65118),n=s(2265);async function r(){let e=await fetch("/api/builder/leads");if(!e.ok)throw Error("Failed");return(await e.json()).items}let l=[{key:"new",title:"New"},{key:"contacted",title:"Contacted"},{key:"site_visit",title:"Site Visit"},{key:"negotiation",title:"Negotiation"},{key:"closed_won",title:"Closed Won"}];function d(){let{data:e=[],isLoading:t}=(0,a.a)({queryKey:["leads-pipeline"],queryFn:r}),s=(0,n.useMemo)(()=>{let t={};for(let e of l)t[e.key]=[];for(let i of e){var s;t[(null===(s=l.find(e=>e.key===i.status))||void 0===s?void 0:s.key)||"new"].push(i)}return t},[e]);return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Leads Pipeline"}),(0,i.jsx)("p",{className:"text-gray-600 mt-1",children:"Drag and drop coming soon"})]}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:l.map(e=>{var a,n;return(0,i.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-3",children:[(0,i.jsxs)("div",{className:"font-semibold text-gray-800 mb-2",children:[e.title," ",(0,i.jsxs)("span",{className:"text-xs text-gray-500",children:["(",(null===(a=s[e.key])||void 0===a?void 0:a.length)||0,")"]})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[t&&(0,i.jsx)("div",{className:"text-xs text-gray-500",children:"Loadingâ€¦"}),null===(n=s[e.key])||void 0===n?void 0:n.map(e=>(0,i.jsxs)("div",{className:"p-3 rounded-lg border border-gray-200 bg-gray-50",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,i.jsx)("div",{className:"text-xs text-gray-500",children:e.email})]},e.id))]})]},e.key)})})]})}}},function(e){e.O(0,[1336,5118,2971,3526,1744],function(){return e(e.s=82629)}),_N_E=e.O()}]);