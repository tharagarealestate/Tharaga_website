var Y=Object.defineProperty;var re=Object.getOwnPropertyDescriptor;var se=Object.getOwnPropertyNames;var ae=Object.prototype.hasOwnProperty;var ne=(f,b)=>()=>(f&&(b=f(f=0)),b);var W=(f,b,B,P)=>{if(b&&typeof b=="object"||typeof b=="function")for(let _ of se(b))!ae.call(f,_)&&_!==B&&Y(f,_,{get:()=>b[_],enumerable:!(P=re(b,_))||P.enumerable});return f},z=(f,b,B)=>(W(f,b,"default"),B&&W(B,b,"default"));var oe=f=>W(Y({},"__esModule",{value:!0}),f);var q={};import*as Nt from"async_hooks";var Z=ne(()=>{z(q,Nt)});import{__getNamedExports as ie}from"../../../../../__next-on-pages-dist__/webpack/47fe815531eb8e5317415e1af8098383.js";import{__getNamedExports as ue}from"../../../../../__next-on-pages-dist__/webpack/afa6f7b95211b974b8d86be169fb0c50.js";import{__getNamedExports as le}from"../../../../../__next-on-pages-dist__/webpack/0d466af974cbd04cfddc679609bb848b.js";import{__getNamedExports as he}from"../../../../../__next-on-pages-dist__/webpack/4c3cfe6622a9ad7a2fe576973d7361ab.js";import{__getNamedExports as ce}from"../../../../../__next-on-pages-dist__/webpack/99321.js";import{__getNamedExports as _e}from"../../../../../__next-on-pages-dist__/webpack/fa5c3540ea983cf3ad97b8d1e4d44265.js";import{__getNamedExports as de}from"../../../../../__next-on-pages-dist__/webpack/c06616c49173394024f3b2ba6821ebbd.js";import{__getNamedExports as pe}from"../../../../../__next-on-pages-dist__/manifest/27d10e462fba646daaa29468a0656e12.js";var k=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/admin/metrics/builder-leaderboard"),L=ie(k,k,k),ge=L.__chunk_39868,me=L.__chunk_54865,fe=L.__chunk_40347,xe=L.__chunk_11496,ke=L.__chunk_95706,ye=L.__chunk_89384,$e=L.__chunk_9578,H=ue(k,k,k),be=H.__chunk_26195,Pe=H.__chunk_2067,ve=H.__chunk_649,Ee=H.__chunk_4704,we=H.__chunk_55612,ee=le(k,k,k),Oe=ee.__chunk_75492,Re=ee.__chunk_53059,$=he(k,k,k),Ne=$.__chunk_35524,Ae=$.__chunk_38536,je=$.__chunk_66765,Te=$.__chunk_59814,Se=$.__chunk_89859,Ke=$.__chunk_99307,Me=$.__chunk_90074,Ce=$.__chunk_4123,Ie=$.__chunk_63412,De=$.__chunk_68978,Fe=$.__chunk_86617,Le=$.__chunk_85767,Be=$.__chunk_88260,Ue=$.__chunk_17949,Ge=$.__chunk_15514,qe=$.__chunk_25257,He=$.__chunk_48690,Xe=$.__chunk_90552,Je=$.__chunk_17649,We=$.__chunk_92501,ze=$.__chunk_46443,Qe=$.__chunk_41616,Ve=$.__chunk_62034,Ye=ce(k,k,k),Ze=Ye.__chunk_99321,J=_e(k,k,k),et=J.__chunk_1812,tt=J.__chunk_1673,rt=J.__chunk_65376,st=J.__chunk_12328,v=de(k,k,k),at=v.__chunk_16254,nt=v.__chunk_94051,ot=v.__chunk_79614,it=v.__chunk_47398,ut=v.__chunk_55027,lt=v.__chunk_22738,ht=v.__chunk_2113,ct=v.__chunk_2860,_t=v.__chunk_8427,dt=v.__chunk_58997,pt=v.__chunk_28024,gt=v.__chunk_52403,mt=v.__chunk_56087,ft=v.__chunk_26265,xt=v.__chunk_68610,kt=v.__chunk_7959,yt=v.__chunk_84303,$t=v.__chunk_3326,bt=v.__chunk_50391,Pt=v.__chunk_28789,vt=v.__chunk_93131,Q=pe(k,k,k),Et=Q.__NEXT_FONT_MANIFEST,wt=Q.__REACT_LOADABLE_MANIFEST,Ot=Q.__BUILD_MANIFEST,Dt=((f,b,B)=>(b._ENTRIES={},f.__BUILD_MANIFEST=Ot,f.__REACT_LOADABLE_MANIFEST=wt,f.__NEXT_FONT_MANIFEST=Et,f.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",f.__PRERENDER_MANIFEST='{"version":4,"routes":{},"dynamicRoutes":{},"notFoundRoutes":[],"preview":{"previewModeId":"process.env.__NEXT_PREVIEW_MODE_ID","previewModeSigningKey":"process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY","previewModeEncryptionKey":"process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY"}}',(()=>{"use strict";var P={},_={};function o(s){var h=_[s];if(h!==void 0)return h.exports;var i=_[s]={id:s,loaded:!1,exports:{}},c=!0;try{P[s].call(i.exports,i,i.exports,o),c=!1}finally{c&&delete _[s]}return i.loaded=!0,i.exports}o.m=P,o.amdO={},(()=>{var s=[];o.O=(h,i,c,t)=>{if(i){t=t||0;for(var e=s.length;e>0&&s[e-1][2]>t;e--)s[e]=s[e-1];s[e]=[i,c,t];return}for(var r=1/0,e=0;e<s.length;e++){for(var[i,c,t]=s[e],n=!0,u=0;u<i.length;u++)r>=t&&Object.keys(o.O).every(N=>o.O[N](i[u]))?i.splice(u--,1):(n=!1,t<r&&(r=t));if(n){s.splice(e--,1);var d=c();d!==void 0&&(h=d)}}return h}})(),o.n=s=>{var h=s&&s.__esModule?()=>s.default:()=>s;return o.d(h,{a:h}),h},(()=>{var s,h=Object.getPrototypeOf?i=>Object.getPrototypeOf(i):i=>i.__proto__;o.t=function(i,c){if(1&c&&(i=this(i)),8&c||typeof i=="object"&&i&&(4&c&&i.__esModule||16&c&&typeof i.then=="function"))return i;var t=Object.create(null);o.r(t);var e={};s=s||[null,h({}),h([]),h(h)];for(var r=2&c&&i;typeof r=="object"&&!~s.indexOf(r);r=h(r))Object.getOwnPropertyNames(r).forEach(n=>e[n]=()=>i[n]);return e.default=()=>i,o.d(t,e),t}})(),o.d=(s,h)=>{for(var i in h)o.o(h,i)&&!o.o(s,i)&&Object.defineProperty(s,i,{enumerable:!0,get:h[i]})},o.e=()=>Promise.resolve(),o.g=function(){if(typeof b=="object")return b;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),o.o=(s,h)=>Object.prototype.hasOwnProperty.call(s,h),o.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.nmd=s=>(s.paths=[],s.children||(s.children=[]),s),(()=>{var s={5993:0};o.O.j=c=>s[c]===0;var h=(c,t)=>{var e,r,[n,u,d]=t,g=0;if(n.some(x=>s[x]!==0)){for(e in u)o.o(u,e)&&(o.m[e]=u[e]);if(d)var y=d(o)}for(c&&c(t);g<n.length;g++)r=n[g],o.o(s,r)&&s[r]&&s[r][0](),s[r]=0;return o.O(y)},i=f.webpackChunk_N_E=f.webpackChunk_N_E||[];i.forEach(h.bind(null,0)),i.push=h.bind(null,i.push.bind(i))})()})(),(f.webpackChunk_N_E=f.webpackChunk_N_E||[]).push([[5042],{93131:vt,28789:Pt,50391:bt,3326:$t,84303:yt,7959:kt,68610:xt,26265:ft,56087:mt,52403:gt,28024:pt,58997:dt,8427:_t,2860:ct,2113:ht,22738:lt,55027:ut,47398:it,79614:ot,55612:we,4704:Ee,94051:nt,649:ve,16254:at}]),(f.webpackChunk_N_E=f.webpackChunk_N_E||[]).push([[5647],{12328:st,65376:rt,1673:tt,1812:et}]),(f.webpackChunk_N_E=f.webpackChunk_N_E||[]).push([[695],{62034:Ve,41616:Qe,46443:ze,92501:We,17649:Je,90552:Xe,48690:He,99321:Ze,25257:qe,15514:Ge,17949:Ue,88260:Be,85767:Le,86617:Fe,68978:De,63412:Ie,4123:Ce,90074:Me,99307:Ke,89859:Se,59814:Te,66765:je,38536:Ae,35524:Ne}]),(f.webpackChunk_N_E=f.webpackChunk_N_E||[]).push([[6730],{9578:$e,26098:function(P,_,o){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_,"__esModule",{value:!0});let h=s(o(9578)),i=s(o(89384));class c{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=h.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,g,y;let x=null,E=null,N=null,A=u.status,R=u.statusText;if(u.ok){if(this.method!=="HEAD"){let F=await u.text();F===""||(E=this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?F:JSON.parse(F))}let C=(d=this.headers.Prefer)===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),I=(g=u.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");C&&I&&I.length>1&&(N=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(x={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,N=null,A=406,R="Not Acceptable"):E=E.length===1?E[0]:null)}else{let C=await u.text();try{x=JSON.parse(C),Array.isArray(x)&&u.status===404&&(E=[],x=null,A=200,R="OK")}catch{u.status===404&&C===""?(A=204,R="No Content"):x={message:C}}if(x&&this.isMaybeSingle&&((y=x?.details)===null||y===void 0?void 0:y.includes("0 rows"))&&(x=null,A=200,R="OK"),x&&this.shouldThrowOnError)throw new i.default(x)}return{error:x,data:E,count:N,status:A,statusText:R}});return this.shouldThrowOnError||(n=n.catch(u=>{var d,g,y;return{error:{message:`${(d=u?.name)!==null&&d!==void 0?d:"FetchError"}: ${u?.message}`,details:`${(g=u?.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(y=u?.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,r)}}_.default=c},42074:function(P,_,o){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_,"__esModule",{value:!0});let h=s(o(62485)),i=s(o(91204)),c=o(95706);class t{constructor(r,{headers:n={},schema:u,fetch:d}={}){this.url=r,this.headers=Object.assign(Object.assign({},c.DEFAULT_HEADERS),n),this.schemaName=u,this.fetch=d}from(r){let n=new URL(`${this.url}/${r}`);return new h.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new t(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,n={},{head:u=!1,get:d=!1,count:g}={}){let y,x,E=new URL(`${this.url}/rpc/${r}`);u||d?(y=u?"HEAD":"GET",Object.entries(n).filter(([A,R])=>R!==void 0).map(([A,R])=>[A,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([A,R])=>{E.searchParams.append(A,R)})):(y="POST",x=n);let N=Object.assign({},this.headers);return g&&(N.Prefer=`count=${g}`),new i.default({method:y,url:E,headers:N,schema:this.schemaName,body:x,fetch:this.fetch,allowEmpty:!1})}}_.default=t},89384:ye,91204:function(P,_,o){"use strict";var s=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(_,"__esModule",{value:!0});let h=s(o(98734));class i extends h.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){let r=Array.from(new Set(e)).map(n=>typeof n=="string"&&RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let u="";n==="plain"?u="pl":n==="phrase"?u="ph":n==="websearch"&&(u="w");let d=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${u}fts${d}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){let n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}}_.default=i},62485:function(P,_,o){"use strict";var s=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(_,"__esModule",{value:!0});let h=s(o(91204));class i{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=e,this.schema=r,this.fetch=n}select(t,{head:e=!1,count:r}={}){let n=!1,u=(t??"*").split("").map(d=>/\s/.test(d)&&!n?"":(d==='"'&&(n=!n),d)).join("");return this.url.searchParams.set("select",u),r&&(this.headers.Prefer=`count=${r}`),new h.default({method:e?"HEAD":"GET",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:r=!0}={}){let n=[];if(this.headers.Prefer&&n.push(this.headers.Prefer),e&&n.push(`count=${e}`),r||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(t)){let u=t.reduce((d,g)=>d.concat(Object.keys(g)),[]);if(u.length>0){let d=[...new Set(u)].map(g=>`"${g}"`);this.url.searchParams.set("columns",d.join(","))}}return new h.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:u=!0}={}){let d=[`resolution=${r?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&d.push(this.headers.Prefer),n&&d.push(`count=${n}`),u||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(t)){let g=t.reduce((y,x)=>y.concat(Object.keys(x)),[]);if(g.length>0){let y=[...new Set(g)].map(x=>`"${x}"`);this.url.searchParams.set("columns",y.join(","))}}return new h.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){let r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),e&&r.push(`count=${e}`),this.headers.Prefer=r.join(","),new h.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let e=[];return t&&e.push(`count=${t}`),this.headers.Prefer&&e.unshift(this.headers.Prefer),this.headers.Prefer=e.join(","),new h.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}_.default=i},98734:function(P,_,o){"use strict";var s=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(_,"__esModule",{value:!0});let h=s(o(26098));class i extends h.default{select(t){let e=!1,r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:u=n}={}){let d=u?`${u}.order`:"order",g=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${g?`${g},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){let n=r===void 0?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){let u=n===void 0?"offset":`${n}.offset`,d=n===void 0?"limit":`${n}.limit`;return this.url.searchParams.set(u,`${t}`),this.url.searchParams.set(d,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:u=!1,format:d="text"}={}){var g;let y=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,u?"wal":null].filter(Boolean).join("|"),x=(g=this.headers.Accept)!==null&&g!==void 0?g:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${d}; for="${x}"; options=${y};`,this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}_.default=i},95706:ke,82519:function(P,_,o){"use strict";var s=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_,"__esModule",{value:!0}),_.PostgrestBuilder=_.PostgrestTransformBuilder=_.PostgrestFilterBuilder=_.PostgrestQueryBuilder=_.PostgrestClient=void 0;let h=s(o(42074));_.PostgrestClient=h.default;let i=s(o(62485));_.PostgrestQueryBuilder=i.default;let c=s(o(91204));_.PostgrestFilterBuilder=c.default;let t=s(o(98734));_.PostgrestTransformBuilder=t.default;let e=s(o(26098));_.PostgrestBuilder=e.default,_.default={PostgrestClient:h.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:c.default,PostgrestTransformBuilder:t.default,PostgrestBuilder:e.default}},11496:xe,40347:fe,53059:Re,75492:Oe,54865:me}]),(f.webpackChunk_N_E=f.webpackChunk_N_E||[]).push([[8730],{2067:Pe,26195:be,16912:(P,_,o)=>{"use strict";o.r(_),o.d(_,{ComponentMod:()=>C,default:()=>I});var s={};o.r(s),o.d(s,{GET:()=>g,dynamic:()=>d,runtime:()=>u});var h={};o.r(h),o.d(h,{originalPathname:()=>A,patchFetch:()=>R,requestAsyncStorage:()=>x,routeModule:()=>y,serverHooks:()=>N,staticGenerationAsyncStorage:()=>E});var i=o(88260),c=o(15514),t=o(2860),e=o(2113),r=o(75492),n=o(39868);let u="edge",d="force-dynamic";async function g(F){let U=(0,n.S)(),[{data:D},{data:X},{data:K}]=await Promise.all([U.from("profiles").select("id, name, company_name, role").eq("role","builder"),U.from("properties").select("id, builder_id, price, price_inr"),U.from("leads").select("id, property_id, status")]),a=new Map;for(let l of X||[]){let O=l.id,w=l.builder_id,j=Number(l.price??l.price_inr??0);a.has(w)||a.set(w,[]),a.get(w).push({id:O,price:j})}let m=new Map;for(let l of K||[]){let O=l.property_id;m.has(O)||m.set(O,[]),m.get(O).push({id:l.id,status:l.status})}let p=[];for(let l of D||[]){let O=l.id,w=a.get(O)||[],j=0,M=0,T=0;for(let S of w){let G=m.get(S.id)||[];j+=G.length;let V=G.filter(te=>te.status==="closed_won").length;M+=V,V>0&&(T+=S.price)}p.push({name:l.name,company_name:l.company_name??null,properties_listed:w.length,total_leads:j,deals_closed:M,total_revenue:T||null})}return p.sort((l,O)=>O.deals_closed-l.deals_closed),r.xk.json(p.slice(0,10))}let y=new c.AppRouteRouteModule({definition:{kind:t.x.APP_ROUTE,page:"/api/admin/metrics/builder-leaderboard/route",pathname:"/api/admin/metrics/builder-leaderboard",filename:"route",bundlePath:"app/api/admin/metrics/builder-leaderboard/route"},resolvedPagePath:"/workspace/app/app/api/admin/metrics/builder-leaderboard/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:x,staticGenerationAsyncStorage:E,serverHooks:N}=y,A="/api/admin/metrics/builder-leaderboard/route";function R(){return(0,e.XH)({serverHooks:N,staticGenerationAsyncStorage:E})}let C=h,I=i.a.wrap(y)},39868:ge},P=>{var _=s=>P(P.s=s);P.O(0,[5042,5647,695,6730],()=>_(16912));var o=P.O();(b._ENTRIES=typeof b._ENTRIES>"u"?{}:b._ENTRIES)["middleware_app/api/admin/metrics/builder-leaderboard/route"]=o}]),function(){let P={exports:{},loaded:!1};return function(o,s){var h=Object.create,i=Object.defineProperty,c=Object.getOwnPropertyDescriptor,t=Object.getOwnPropertyNames,e=Object.getPrototypeOf,r=Object.prototype.hasOwnProperty,n=a=>i(a,"__esModule",{value:!0}),u=(a,m)=>{n(a);for(var p in m)i(a,p,{get:m[p],enumerable:!0})},d=(a,m,p)=>{if(m&&typeof m=="object"||typeof m=="function")for(let l of t(m))!r.call(a,l)&&l!=="default"&&i(a,l,{get:()=>m[l],enumerable:!(p=c(m,l))||p.enumerable});return a},g=a=>d(n(i(a!=null?h(e(a)):{},"default",a&&a.__esModule&&"default"in a?{get:()=>a.default,enumerable:!0}:{value:a,enumerable:!0})),a);u(s,{default:()=>U});var y=g((Z(),oe(q))),x="@next/request-context",E=Symbol.for(x),N=Symbol.for("internal.storage");function A(){let a=b;if(!a[E]){let m=new y.AsyncLocalStorage,p={get:()=>m.getStore(),[N]:m};a[E]=p}return a[E]}var R=A();function C(a,m){return R[N].run(a,m)}function I(a){let m={};return a&&a.forEach((p,l)=>{m[l]=p,l.toLowerCase()==="set-cookie"&&(m[l]=F(p))}),m}function F(a){let m=[],p=0,l,O,w,j,M;function T(){for(;p<a.length&&/\s/.test(a.charAt(p));)p+=1;return p<a.length}function S(){return O=a.charAt(p),O!=="="&&O!==";"&&O!==","}for(;p<a.length;){for(l=p,M=!1;T();)if(O=a.charAt(p),O===","){for(w=p,p+=1,T(),j=p;p<a.length&&S();)p+=1;p<a.length&&a.charAt(p)==="="?(M=!0,p=j,m.push(a.substring(l,w)),l=p):p=w+1}else p+=1;(!M||p>=a.length)&&m.push(a.substring(l,a.length))}return m}function U(a){let m=a.staticRoutes.map(l=>({regexp:new RegExp(l.namedRegex),page:l.page})),p=a.dynamicRoutes?.map(l=>({regexp:new RegExp(l.namedRegex),page:l.page}))||[];return async function(l,O){let w=new URL(l.url).pathname,j={};if(a.nextConfig?.basePath&&w.startsWith(a.nextConfig.basePath)&&(w=w.replace(a.nextConfig.basePath,"")||"/"),a.nextConfig?.i18n)for(let T of a.nextConfig.i18n.locales){let S=new RegExp(`^/${T}($|/)`,"i");if(w.match(S)){w=w.replace(S,"/")||"/";break}}for(let T of m)if(T.regexp.exec(w)){j.name=T.page;break}if(!j.name){let T=X(w);for(let S of p||[]){if(T&&!X(S.page))continue;let G=S.regexp.exec(w);if(G){j={name:S.page,params:G.groups};break}}}let M=await C({waitUntil:O.waitUntil},()=>b._ENTRIES[`middleware_${a.name}`].default.call({},{request:{url:l.url,method:l.method,headers:I(l.headers),ip:D(l.headers,K.Ip),geo:{city:D(l.headers,K.City,!0),country:D(l.headers,K.Country,!0),latitude:D(l.headers,K.Latitude),longitude:D(l.headers,K.Longitude),region:D(l.headers,K.Region,!0)},nextConfig:a.nextConfig,page:j,body:l.body}}));return M.waitUntil&&O.waitUntil(M.waitUntil),M.response}}function D(a,m,p=!1){let l=a.get(m)||void 0;return p&&l?decodeURIComponent(l):l}function X(a){return a==="/api"||a.startsWith("/api/")}var K;(function(a){a.City="x-vercel-ip-city",a.Country="x-vercel-ip-country",a.Ip="x-real-ip",a.Latitude="x-vercel-ip-latitude",a.Longitude="x-vercel-ip-longitude",a.Region="x-vercel-ip-country-region"})(K||(K={}))}(P,P.exports),P.exports}.call({}).default({name:"app/api/admin/metrics/builder-leaderboard/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/admin",regex:"^/admin(?:/)?$",routeKeys:{},namedRegex:"^/admin(?:/)?$"},{page:"/admin/leads",regex:"^/admin/leads(?:/)?$",routeKeys:{},namedRegex:"^/admin/leads(?:/)?$"},{page:"/admin/settings",regex:"^/admin/settings(?:/)?$",routeKeys:{},namedRegex:"^/admin/settings(?:/)?$"},{page:"/admin/verify",regex:"^/admin/verify(?:/)?$",routeKeys:{},namedRegex:"^/admin/verify(?:/)?$"},{page:"/app",regex:"^/app(?:/)?$",routeKeys:{},namedRegex:"^/app(?:/)?$"},{page:"/app/saas",regex:"^/app/saas(?:/)?$",routeKeys:{},namedRegex:"^/app/saas(?:/)?$"},{page:"/app/saas/dashboard",regex:"^/app/saas/dashboard(?:/)?$",routeKeys:{},namedRegex:"^/app/saas/dashboard(?:/)?$"},{page:"/app/saas/pricing",regex:"^/app/saas/pricing(?:/)?$",routeKeys:{},namedRegex:"^/app/saas/pricing(?:/)?$"},{page:"/builder",regex:"^/builder(?:/)?$",routeKeys:{},namedRegex:"^/builder(?:/)?$"},{page:"/builder/leads",regex:"^/builder/leads(?:/)?$",routeKeys:{},namedRegex:"^/builder/leads(?:/)?$"},{page:"/builder/leads/pipeline",regex:"^/builder/leads/pipeline(?:/)?$",routeKeys:{},namedRegex:"^/builder/leads/pipeline(?:/)?$"},{page:"/builders/add-property",regex:"^/builders/add\\-property(?:/)?$",routeKeys:{},namedRegex:"^/builders/add\\-property(?:/)?$"},{page:"/dashboard/map",regex:"^/dashboard/map(?:/)?$",routeKeys:{},namedRegex:"^/dashboard/map(?:/)?$"},{page:"/dashboard/market",regex:"^/dashboard/market(?:/)?$",routeKeys:{},namedRegex:"^/dashboard/market(?:/)?$"},{page:"/embed/how-it-works",regex:"^/embed/how\\-it\\-works(?:/)?$",routeKeys:{},namedRegex:"^/embed/how\\-it\\-works(?:/)?$"},{page:"/filters/radial",regex:"^/filters/radial(?:/)?$",routeKeys:{},namedRegex:"^/filters/radial(?:/)?$"},{page:"/login",regex:"^/login(?:/)?$",routeKeys:{},namedRegex:"^/login(?:/)?$"},{page:"/saas",regex:"^/saas(?:/)?$",routeKeys:{},namedRegex:"^/saas(?:/)?$"},{page:"/saas/analytics",regex:"^/saas/analytics(?:/)?$",routeKeys:{},namedRegex:"^/saas/analytics(?:/)?$"},{page:"/saas/dashboard",regex:"^/saas/dashboard(?:/)?$",routeKeys:{},namedRegex:"^/saas/dashboard(?:/)?$"},{page:"/saas/pricing",regex:"^/saas/pricing(?:/)?$",routeKeys:{},namedRegex:"^/saas/pricing(?:/)?$"},{page:"/saas/workflows",regex:"^/saas/workflows(?:/)?$",routeKeys:{},namedRegex:"^/saas/workflows(?:/)?$"},{page:"/saved",regex:"^/saved(?:/)?$",routeKeys:{},namedRegex:"^/saved(?:/)?$"},{page:"/sitemap.xml",regex:"^/sitemap\\.xml(?:/)?$",routeKeys:{},namedRegex:"^/sitemap\\.xml(?:/)?$"},{page:"/tools/cost-calculator",regex:"^/tools/cost\\-calculator(?:/)?$",routeKeys:{},namedRegex:"^/tools/cost\\-calculator(?:/)?$"},{page:"/tools/currency-risk",regex:"^/tools/currency\\-risk(?:/)?$",routeKeys:{},namedRegex:"^/tools/currency\\-risk(?:/)?$"},{page:"/tools/environment",regex:"^/tools/environment(?:/)?$",routeKeys:{},namedRegex:"^/tools/environment(?:/)?$"},{page:"/tools/remote-management",regex:"^/tools/remote\\-management(?:/)?$",routeKeys:{},namedRegex:"^/tools/remote\\-management(?:/)?$"},{page:"/tools/roi",regex:"^/tools/roi(?:/)?$",routeKeys:{},namedRegex:"^/tools/roi(?:/)?$"},{page:"/tools/vastu",regex:"^/tools/vastu(?:/)?$",routeKeys:{},namedRegex:"^/tools/vastu(?:/)?$"},{page:"/tools/verification",regex:"^/tools/verification(?:/)?$",routeKeys:{},namedRegex:"^/tools/verification(?:/)?$"},{page:"/tools/voice-tamil",regex:"^/tools/voice\\-tamil(?:/)?$",routeKeys:{},namedRegex:"^/tools/voice\\-tamil(?:/)?$"},{page:"/tours",regex:"^/tours(?:/)?$",routeKeys:{},namedRegex:"^/tours(?:/)?$"},{page:"/tours/ar-staging",regex:"^/tours/ar\\-staging(?:/)?$",routeKeys:{},namedRegex:"^/tours/ar\\-staging(?:/)?$"},{page:"/tours/hotspots",regex:"^/tours/hotspots(?:/)?$",routeKeys:{},namedRegex:"^/tours/hotspots(?:/)?$"},{page:"/unauthorized",regex:"^/unauthorized(?:/)?$",routeKeys:{},namedRegex:"^/unauthorized(?:/)?$"}],dynamicRoutes:[{page:"/api/builder/leads/[id]",regex:"^/api/builder/leads/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/builder/leads/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/builder/leads/[id]",regex:"^/builder/leads/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/builder/leads/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/microsite/[id]",regex:"^/microsite/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/microsite/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/[locale]",regex:"^/([^/]+?)(?:/)?$",routeKeys:{nxtPlocale:"nxtPlocale"},namedRegex:"^/(?<nxtPlocale>[^/]+?)(?:/)?$"}],nextConfig:{basePath:""}})))(k,k,k);export{Dt as default};
