var At=Object.defineProperty;var As=Object.getOwnPropertyDescriptor;var Cs=Object.getOwnPropertyNames;var Is=Object.prototype.hasOwnProperty;var Ns=(A,C)=>()=>(A&&(C=A(A=0)),C);var ct=(A,C,$e,K)=>{if(C&&typeof C=="object"||typeof C=="function")for(let j of Cs(C))!Is.call(A,j)&&j!==$e&&At(A,j,{get:()=>C[j],enumerable:!(K=As(C,j))||K.enumerable});return A},lt=(A,C,$e)=>(ct(A,C,"default"),$e&&ct($e,C,"default"));var Ls=A=>ct(At({},"__esModule",{value:!0}),A);var De={};import*as ra from"async_hooks";var Ct=Ns(()=>{lt(De,ra)});import{__getNamedExports as Us}from"../../../__next-on-pages-dist__/webpack/afa6f7b95211b974b8d86be169fb0c50.js";import{__getNamedExports as Ds}from"../../../__next-on-pages-dist__/webpack/07dd1cf6e0277052cab413a7836033f0.js";import{__getNamedExports as Ms}from"../../../__next-on-pages-dist__/webpack/eb3296d80bbe67ac634aa9f05a8fc64f.js";import{__getNamedExports as Fs}from"../../../__next-on-pages-dist__/webpack/c8d68f66139df300cb63c069e969d587.js";import{__getNamedExports as Bs}from"../../../__next-on-pages-dist__/webpack/13186.js";import{__getNamedExports as Ks}from"../../../__next-on-pages-dist__/webpack/c06616c49173394024f3b2ba6821ebbd.js";import{__getNamedExports as qs}from"../../../__next-on-pages-dist__/manifest/27d10e462fba646daaa29468a0656e12.js";import{__getNamedExports as zs}from"../../../__next-on-pages-dist__/manifest/__RSC_SERVER_MANIFEST.js";var z=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/builders/add-property"),Me=Us(z,z,z),Js=Me.__chunk_26195,Hs=Me.__chunk_2067,Gs=Me.__chunk_649,Ws=Me.__chunk_4704,Vs=Me.__chunk_55612,_=Ds(z,z,z),Ys=_.__chunk_67272,Xs=_.__chunk_97298,Qs=_.__chunk_93619,Zs=_.__chunk_92154,er=_.__chunk_86773,tr=_.__chunk_82230,sr=_.__chunk_66466,rr=_.__chunk_54768,nr=_.__chunk_83118,ir=_.__chunk_51512,ar=_.__chunk_23003,or=_.__chunk_23393,cr=_.__chunk_51167,lr=_.__chunk_5869,hr=_.__chunk_91357,ur=_.__chunk_64085,dr=_.__chunk_62101,_r=_.__chunk_24557,pr=_.__chunk_61618,fr=_.__chunk_13234,mr=_.__chunk_8478,gr=_.__chunk_11673,yr=_.__chunk_45950,kr=_.__chunk_71496,vr=_.__chunk_16061,br=_.__chunk_50730,wr=_.__chunk_98506,xr=_.__chunk_96540,Sr=_.__chunk_23131,Er=_.__chunk_55524,jr=_.__chunk_91964,Tr=_.__chunk_24955,Pr=_.__chunk_27253,$r=_.__chunk_89588,Or=_.__chunk_20099,Rr=_.__chunk_70298,Ar=_.__chunk_58919,Cr=_.__chunk_15052,Ir=_.__chunk_1192,Nr=_.__chunk_17652,Lr=_.__chunk_81054,Ur=_.__chunk_202,Dr=_.__chunk_73566,Mr=_.__chunk_80498,Fr=_.__chunk_54190,Br=_.__chunk_3031,Kr=_.__chunk_72438,qr=_.__chunk_92743,zr=_.__chunk_86985,Jr=_.__chunk_86099,Hr=_.__chunk_10127,Gr=_.__chunk_63541,Wr=_.__chunk_13857,Vr=_.__chunk_49474,Yr=_.__chunk_44488,Xr=_.__chunk_8491,Qr=_.__chunk_48790,Zr=_.__chunk_63581,en=_.__chunk_13172,tn=_.__chunk_44327,sn=_.__chunk_87470,rn=_.__chunk_27744,nn=_.__chunk_74894,an=_.__chunk_78567,on=_.__chunk_48317,cn=_.__chunk_37515,ln=_.__chunk_78844,hn=_.__chunk_86236,un=_.__chunk_65627,dn=_.__chunk_79510,_n=_.__chunk_79879,pn=_.__chunk_16109,fn=_.__chunk_50117,mn=_.__chunk_79031,gn=_.__chunk_94569,yn=_.__chunk_87126,kn=_.__chunk_41318,vn=_.__chunk_38255,bn=_.__chunk_85500,wn=_.__chunk_70012,xn=_.__chunk_62533,Sn=_.__chunk_28890,En=_.__chunk_36987,jn=_.__chunk_64802,Tn=_.__chunk_25281,Pn=_.__chunk_74410,$n=_.__chunk_70207,On=_.__chunk_24158,Rn=_.__chunk_83654,An=_.__chunk_47997,Cn=_.__chunk_32642,In=_.__chunk_50010,Nn=_.__chunk_2505,Ln=_.__chunk_40841,Un=_.__chunk_93925,Dn=_.__chunk_53207,Mn=_.__chunk_67017,Fn=_.__chunk_65254,Bn=_.__chunk_96212,Kn=_.__chunk_57303,qn=_.__chunk_393,zn=_.__chunk_58213,Jn=_.__chunk_12726,Hn=_.__chunk_6120,Gn=_.__chunk_55441,Wn=_.__chunk_69061,Vn=_.__chunk_60498,Yn=_.__chunk_13185,Xn=_.__chunk_28283,Qn=_.__chunk_93773,Zn=_.__chunk_77734,ei=_.__chunk_9183,ti=_.__chunk_80292,si=_.__chunk_60769,ri=_.__chunk_11252,ni=_.__chunk_5486,ii=_.__chunk_32428,ai=_.__chunk_87199,oi=_.__chunk_56497,ci=_.__chunk_21502,li=_.__chunk_32676,hi=_.__chunk_58754,ui=_.__chunk_57707,di=_.__chunk_82123,_i=_.__chunk_26443,pi=_.__chunk_32695,fi=_.__chunk_84208,mi=_.__chunk_74775,gi=_.__chunk_94260,yi=_.__chunk_76240,ki=_.__chunk_6623,vi=_.__chunk_59556,ht=Ms(z,z,z),bi=ht.__chunk_82087,wi=ht.__chunk_83914,xi=ht.__chunk_68223,Ge=Fs(z,z,z),Si=Ge.__chunk_53808,Ei=Ge.__chunk_61953,ji=Ge.__chunk_11589,Ti=Ge.__chunk_28723,Pi=Bs(z,z,z),$i=Pi.__chunk_13186,J=Ks(z,z,z),Oi=J.__chunk_16254,Ri=J.__chunk_94051,Ai=J.__chunk_79614,Ci=J.__chunk_47398,Ii=J.__chunk_55027,Ni=J.__chunk_22738,Li=J.__chunk_2113,Ui=J.__chunk_2860,Di=J.__chunk_8427,Mi=J.__chunk_58997,Fi=J.__chunk_28024,Bi=J.__chunk_52403,Ki=J.__chunk_56087,qi=J.__chunk_26265,zi=J.__chunk_68610,Ji=J.__chunk_7959,Hi=J.__chunk_84303,Gi=J.__chunk_3326,Wi=J.__chunk_50391,Vi=J.__chunk_28789,Yi=J.__chunk_93131,ut=qs(z,z,z),Xi=ut.__NEXT_FONT_MANIFEST,Qi=ut.__REACT_LOADABLE_MANIFEST,Zi=ut.__BUILD_MANIFEST,ea=zs(z,z,z),ta=ea.__RSC_SERVER_MANIFEST,da=((A,C,$e)=>(C._ENTRIES={},A.__RSC_SERVER_MANIFEST=ta,C.__RSC_MANIFEST=C.__RSC_MANIFEST||{},C.__RSC_MANIFEST["/builders/add-property/page"]={moduleLoading:{prefix:"/_next/",crossOrigin:null},ssrModuleMapping:{8467:{"*":{id:"6461",name:"*",chunks:[],async:!1}},16585:{"*":{id:"1868",name:"*",chunks:[],async:!1}},34235:{"*":{id:"6712",name:"*",chunks:[],async:!1}},39275:{"*":{id:"9671",name:"*",chunks:[],async:!1}},61343:{"*":{id:"4759",name:"*",chunks:[],async:!1}},66513:{"*":{id:"6114",name:"*",chunks:[],async:!1}},76130:{"*":{id:"9727",name:"*",chunks:[],async:!1}},95751:{"*":{id:"2994",name:"*",chunks:[],async:!1}}},edgeSSRModuleMapping:{821:{"*":{id:"37259",name:"*",chunks:[],async:!1}},4286:{"*":{id:"79661",name:"*",chunks:[],async:!1}},6369:{"*":{id:"82026",name:"*",chunks:[],async:!1}},7626:{"*":{id:"92504",name:"*",chunks:[],async:!1}},8005:{"*":{id:"13234",name:"*",chunks:[],async:!1}},8467:{"*":{id:"93619",name:"*",chunks:[],async:!1}},10912:{"*":{id:"28268",name:"*",chunks:[],async:!1}},13145:{"*":{id:"24714",name:"*",chunks:[],async:!1}},15043:{"*":{id:"15052",name:"*",chunks:[],async:!1}},16585:{"*":{id:"96212",name:"*",chunks:[],async:!1}},21009:{"*":{id:"26646",name:"*",chunks:[],async:!1}},22400:{"*":{id:"8812",name:"*",chunks:[],async:!1}},24761:{"*":{id:"6974",name:"*",chunks:[],async:!1}},29478:{"*":{id:"76162",name:"*",chunks:[],async:!1}},34235:{"*":{id:"92154",name:"*",chunks:[],async:!1}},34601:{"*":{id:"9152",name:"*",chunks:[],async:!1}},34808:{"*":{id:"32059",name:"*",chunks:[],async:!1}},35507:{"*":{id:"15667",name:"*",chunks:[],async:!1}},37295:{"*":{id:"72721",name:"*",chunks:[],async:!1}},39275:{"*":{id:"58213",name:"*",chunks:[],async:!1}},44467:{"*":{id:"86099",name:"*",chunks:[],async:!1}},48314:{"*":{id:"79268",name:"*",chunks:[],async:!1}},51695:{"*":{id:"74362",name:"*",chunks:[],async:!1}},57991:{"*":{id:"57381",name:"*",chunks:[],async:!1}},58136:{"*":{id:"94941",name:"*",chunks:[],async:!1}},60867:{"*":{id:"49567",name:"*",chunks:[],async:!1}},61343:{"*":{id:"40841",name:"*",chunks:[],async:!1}},61481:{"*":{id:"25120",name:"*",chunks:[],async:!1}},62937:{"*":{id:"91334",name:"*",chunks:[],async:!1}},63535:{"*":{id:"99117",name:"*",chunks:[],async:!1}},63705:{"*":{id:"95901",name:"*",chunks:[],async:!1}},66023:{"*":{id:"86779",name:"*",chunks:[],async:!1}},66513:{"*":{id:"55441",name:"*",chunks:[],async:!1}},68056:{"*":{id:"80498",name:"*",chunks:[],async:!1}},72865:{"*":{id:"64742",name:"*",chunks:[],async:!1}},76130:{"*":{id:"6120",name:"*",chunks:[],async:!1}},76894:{"*":{id:"36213",name:"*",chunks:[],async:!1}},77527:{"*":{id:"52534",name:"*",chunks:[],async:!1}},78577:{"*":{id:"42741",name:"*",chunks:[],async:!1}},78921:{"*":{id:"71982",name:"*",chunks:[],async:!1}},81879:{"*":{id:"90358",name:"*",chunks:[],async:!1}},82330:{"*":{id:"28446",name:"*",chunks:[],async:!1}},83439:{"*":{id:"51302",name:"*",chunks:[],async:!1}},87698:{"*":{id:"98236",name:"*",chunks:[],async:!1}},88394:{"*":{id:"5250",name:"*",chunks:[],async:!1}},92640:{"*":{id:"52701",name:"*",chunks:[],async:!1}},92986:{"*":{id:"93089",name:"*",chunks:[],async:!1}},95751:{"*":{id:"60498",name:"*",chunks:[],async:!1}},97668:{"*":{id:"41809",name:"*",chunks:[],async:!1}}},clientModules:{"/workspace/app/node_modules/next/dist/client/components/app-router.js":{id:95751,name:"*",chunks:[],async:!1},"/workspace/app/node_modules/next/dist/esm/client/components/app-router.js":{id:95751,name:"*",chunks:[],async:!1},"/workspace/app/node_modules/next/dist/client/components/client-page.js":{id:66513,name:"*",chunks:[],async:!1},"/workspace/app/node_modules/next/dist/esm/client/components/client-page.js":{id:66513,name:"*",chunks:[],async:!1},"/workspace/app/node_modules/next/dist/client/components/error-boundary.js":{id:76130,name:"*",chunks:[],async:!1},"/workspace/app/node_modules/next/dist/esm/client/components/error-boundary.js":{id:76130,name:"*",chunks:[],async:!1},"/workspace/app/node_modules/next/dist/client/components/layout-router.js":{id:39275,name:"*",chunks:[],async:!1},"/workspace/app/node_modules/next/dist/esm/client/components/layout-router.js":{id:39275,name:"*",chunks:[],async:!1},"/workspace/app/node_modules/next/dist/client/components/not-found-boundary.js":{id:16585,name:"*",chunks:[],async:!1},"/workspace/app/node_modules/next/dist/esm/client/components/not-found-boundary.js":{id:16585,name:"*",chunks:[],async:!1},"/workspace/app/node_modules/next/dist/client/components/render-from-template-context.js":{id:61343,name:"*",chunks:[],async:!1},"/workspace/app/node_modules/next/dist/esm/client/components/render-from-template-context.js":{id:61343,name:"*",chunks:[],async:!1},"/workspace/app/node_modules/next/dist/shared/lib/app-router-context.shared-runtime.js":{id:44467,name:"*",chunks:[],async:!1},"/workspace/app/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js":{id:44467,name:"*",chunks:[],async:!1},"/workspace/app/node_modules/next/dist/shared/lib/hooks-client-context.shared-runtime.js":{id:68056,name:"*",chunks:[],async:!1},"/workspace/app/node_modules/next/dist/esm/shared/lib/hooks-client-context.shared-runtime.js":{id:68056,name:"*",chunks:[],async:!1},"/workspace/app/node_modules/next/dist/shared/lib/loadable-context.shared-runtime.js":{id:15043,name:"*",chunks:[],async:!1},"/workspace/app/node_modules/next/dist/esm/shared/lib/loadable-context.shared-runtime.js":{id:15043,name:"*",chunks:[],async:!1},"/workspace/app/node_modules/next/dist/shared/lib/server-inserted-html.shared-runtime.js":{id:8005,name:"*",chunks:[],async:!1},"/workspace/app/node_modules/next/dist/esm/shared/lib/server-inserted-html.shared-runtime.js":{id:8005,name:"*",chunks:[],async:!1},"/workspace/app/app/globals.css":{id:58877,name:"*",chunks:["3185","static/chunks/app/layout-5bc60cc9f31d96dd.js"],async:!1},"/workspace/app/components/LanguageSelector.tsx":{id:34235,name:"*",chunks:["3185","static/chunks/app/layout-5bc60cc9f31d96dd.js"],async:!1},"/workspace/app/components/ui/FeatureGate.tsx":{id:8467,name:"*",chunks:["3185","static/chunks/app/layout-5bc60cc9f31d96dd.js"],async:!1},"/workspace/app/app/admin/settings/page.tsx":{id:51695,name:"*",chunks:[],async:!1},"/workspace/app/app/admin/leads/page.tsx":{id:48314,name:"*",chunks:[],async:!1},"/workspace/app/app/admin/verify/page.tsx":{id:62937,name:"*",chunks:[],async:!1},"/workspace/app/app/dashboard/map/page.tsx":{id:821,name:"*",chunks:[],async:!1},"/workspace/app/app/dashboard/market/page.tsx":{id:37295,name:"*",chunks:[],async:!1},"/workspace/app/app/filters/radial/page.tsx":{id:87698,name:"*",chunks:[],async:!1},"/workspace/app/app/page.tsx":{id:82330,name:"*",chunks:["1048","static/chunks/1048-f55dd4c1887bd1d4.js","8593","static/chunks/8593-287dd69ba302d73b.js","2330","static/chunks/2330-b92e60b064eeb362.js","1931","static/chunks/app/page-a7357df7653a99a8.js"],async:!1},"/workspace/app/app/saas/analytics/page.tsx":{id:57991,name:"*",chunks:[],async:!1},"/workspace/app/app/saas/dashboard/page.tsx":{id:77527,name:"*",chunks:[],async:!1},"/workspace/app/components/AnimatedHowItWorks/HowItWorksAnimatedSection.tsx":{id:34601,name:"*",chunks:[],async:!1},"/workspace/app/node_modules/next/dist/shared/lib/lazy-dynamic/dynamic-bailout-to-csr.js":{id:10912,name:"*",chunks:[],async:!1},"/workspace/app/node_modules/next/dist/esm/shared/lib/lazy-dynamic/dynamic-bailout-to-csr.js":{id:10912,name:"*",chunks:[],async:!1},"/workspace/app/node_modules/next/dist/shared/lib/lazy-dynamic/preload-css.js":{id:61481,name:"*",chunks:[],async:!1},"/workspace/app/node_modules/next/dist/esm/shared/lib/lazy-dynamic/preload-css.js":{id:61481,name:"*",chunks:[],async:!1},"/workspace/app/app/saas/pricing/page.tsx":{id:72865,name:"*",chunks:[],async:!1},"/workspace/app/app/saas/workflows/page.tsx":{id:34808,name:"*",chunks:[],async:!1},"/workspace/app/app/saved/page.tsx":{id:92986,name:"*",chunks:[],async:!1},"/workspace/app/app/tools/cost-calculator/page.tsx":{id:63535,name:"*",chunks:[],async:!1},"/workspace/app/app/tools/currency-risk/page.tsx":{id:81879,name:"*",chunks:[],async:!1},"/workspace/app/app/tools/environment/page.tsx":{id:7626,name:"*",chunks:[],async:!1},"/workspace/app/app/tools/verification/page.tsx":{id:24761,name:"*",chunks:[],async:!1},"/workspace/app/app/tools/vastu/page.tsx":{id:97668,name:"*",chunks:[],async:!1},"/workspace/app/app/tools/roi/page.tsx":{id:78921,name:"*",chunks:[],async:!1},"/workspace/app/app/tools/voice-tamil/page.tsx":{id:60867,name:"*",chunks:[],async:!1},"/workspace/app/app/tours/ar-staging/page.tsx":{id:6369,name:"*",chunks:[],async:!1},"/workspace/app/app/tours/page.tsx":{id:13145,name:"*",chunks:[],async:!1},"/workspace/app/app/tours/hotspots/page.tsx":{id:83439,name:"*",chunks:[],async:!1},"/workspace/app/app/tools/remote-management/page.tsx":{id:66023,name:"*",chunks:[],async:!1},"/workspace/app/app/builders/add-property/AddPropertyClient.tsx":{id:29478,name:"*",chunks:["8869","static/chunks/8869-efed952d07ce7f69.js","4593","static/chunks/4593-0125812d590bc110.js","5447","static/chunks/5447-7df2d0a29245c49d.js","5229","static/chunks/app/builders/add-property/page-0907c96ba261edfb.js"],async:!1},"/workspace/app/app/microsite/[id]/page.tsx":{id:21009,name:"*",chunks:[],async:!1},"/workspace/app/app/(dashboard)/admin/page.tsx":{id:78577,name:"*",chunks:[],async:!1},"/workspace/app/components/providers/ReactQueryProvider.tsx":{id:76894,name:"*",chunks:[],async:!1},"/workspace/app/app/app/page.tsx":{id:35507,name:"*",chunks:[],async:!1},"/workspace/app/app/(dashboard)/builder/leads/page.tsx":{id:58136,name:"*",chunks:[],async:!1},"/workspace/app/app/(dashboard)/builder/_components/Header.tsx":{id:88394,name:"*",chunks:[],async:!1},"/workspace/app/app/(dashboard)/builder/_components/Sidebar.tsx":{id:63705,name:"*",chunks:[],async:!1},"/workspace/app/app/(dashboard)/builder/leads/pipeline/page.tsx":{id:22400,name:"*",chunks:[],async:!1},"/workspace/app/app/(dashboard)/builder/leads/[id]/page.tsx":{id:92640,name:"*",chunks:[],async:!1},"/workspace/app/node_modules/next-intl/dist/esm/production/shared/NextIntlClientProvider.js":{id:4286,name:"*",chunks:[],async:!1}},entryCSSFiles:{"/workspace/app/":[],"/workspace/app/app/layout":["static/css/794383943d70182a.css"],"/workspace/app/app/page":[],"/workspace/app/app/builders/add-property/page":[]}},A.__BUILD_MANIFEST=Zi,A.__REACT_LOADABLE_MANIFEST=Qi,A.__NEXT_FONT_MANIFEST=Xi,A.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",A.__PRERENDER_MANIFEST='{"version":4,"routes":{},"dynamicRoutes":{},"notFoundRoutes":[],"preview":{"previewModeId":"process.env.__NEXT_PREVIEW_MODE_ID","previewModeSigningKey":"process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY","previewModeEncryptionKey":"process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY"}}',(()=>{"use strict";var K={},j={};function p(y){var x=j[y];if(x!==void 0)return x.exports;var v=j[y]={id:y,loaded:!1,exports:{}},T=!0;try{K[y].call(v.exports,v,v.exports,p),T=!1}finally{T&&delete j[y]}return v.loaded=!0,v.exports}p.m=K,p.amdO={},(()=>{var y=[];p.O=(x,v,T,d)=>{if(v){d=d||0;for(var l=y.length;l>0&&y[l-1][2]>d;l--)y[l]=y[l-1];y[l]=[v,T,d];return}for(var f=1/0,l=0;l<y.length;l++){for(var[v,T,d]=y[l],b=!0,P=0;P<v.length;P++)f>=d&&Object.keys(p.O).every(Q=>p.O[Q](v[P]))?v.splice(P--,1):(b=!1,d<f&&(f=d));if(b){y.splice(l--,1);var w=T();w!==void 0&&(x=w)}}return x}})(),p.n=y=>{var x=y&&y.__esModule?()=>y.default:()=>y;return p.d(x,{a:x}),x},(()=>{var y,x=Object.getPrototypeOf?v=>Object.getPrototypeOf(v):v=>v.__proto__;p.t=function(v,T){if(1&T&&(v=this(v)),8&T||typeof v=="object"&&v&&(4&T&&v.__esModule||16&T&&typeof v.then=="function"))return v;var d=Object.create(null);p.r(d);var l={};y=y||[null,x({}),x([]),x(x)];for(var f=2&T&&v;typeof f=="object"&&!~y.indexOf(f);f=x(f))Object.getOwnPropertyNames(f).forEach(b=>l[b]=()=>v[b]);return l.default=()=>v,p.d(d,l),d}})(),p.d=(y,x)=>{for(var v in x)p.o(x,v)&&!p.o(y,v)&&Object.defineProperty(y,v,{enumerable:!0,get:x[v]})},p.e=()=>Promise.resolve(),p.g=function(){if(typeof C=="object")return C;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),p.o=(y,x)=>Object.prototype.hasOwnProperty.call(y,x),p.r=y=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})},p.nmd=y=>(y.paths=[],y.children||(y.children=[]),y),(()=>{var y={5993:0};p.O.j=T=>y[T]===0;var x=(T,d)=>{var l,f,[b,P,w]=d,U=0;if(b.some(F=>y[F]!==0)){for(l in P)p.o(P,l)&&(p.m[l]=P[l]);if(w)var k=w(p)}for(T&&T(d);U<b.length;U++)f=b[U],p.o(y,f)&&y[f]&&y[f][0](),y[f]=0;return p.O(k)},v=A.webpackChunk_N_E=A.webpackChunk_N_E||[];v.forEach(x.bind(null,0)),v.push=x.bind(null,v.push.bind(v))})()})(),(A.webpackChunk_N_E=A.webpackChunk_N_E||[]).push([[5042],{93131:Yi,28789:Vi,50391:Wi,3326:Gi,84303:Hi,7959:Ji,68610:zi,26265:qi,56087:Ki,52403:Bi,28024:Fi,58997:Mi,8427:Di,2860:Ui,2113:Li,22738:Ni,55027:Ii,47398:Ci,79614:Ai,55612:Vs,4704:Ws,94051:Ri,649:Gs,16254:Oi}]),(A.webpackChunk_N_E=A.webpackChunk_N_E||[]).push([[6522],{59556:vi,6623:ki,76240:yi,94260:gi,74775:mi,84208:fi,32695:pi,26443:_i,82123:di,57707:ui,58754:hi,32676:li,21502:ci,56497:oi,87199:ai,32428:ii,5486:ni,11252:ri,60769:si,80292:ti,9183:ei,77734:Zn,93773:Qn,28283:Xn,13185:Yn,60498:Vn,69061:Wn,55441:Gn,6120:Hn,12726:Jn,58213:zn,393:qn,57303:Kn,96212:Bn,65254:Fn,67017:Mn,53207:Dn,93925:Un,40841:Ln,2505:Nn,50010:In,32642:Cn,47997:An,83654:Rn,24158:On,70207:$n,74410:Pn,25281:Tn,64802:jn,36987:En,28890:Sn,62533:xn,70012:wn,85500:bn,38255:vn,41318:kn,87126:yn,94569:gn,79031:mn,50117:fn,16109:pn,79879:_n,79510:dn,65627:un,86236:hn,78844:ln,37515:cn,48317:on,78567:an,74894:nn,27744:rn,87470:sn,44327:tn,13172:en,63581:Zr,48790:Qr,8491:Xr,44488:Yr,49474:Vr,13857:Wr,63541:Gr,10127:Hr,86099:Jr,86985:zr,92743:qr,72438:Kr,3031:Br,54190:Fr,80498:Mr,73566:Dr,202:Ur,81054:Lr,17652:Nr,1192:Ir,15052:Cr,58919:Ar,70298:Rr,20099:Or,89588:$r,27253:Pr,24955:Tr,91964:jr,55524:Er,23131:Sr,96540:xr,98506:wr,50730:br,16061:vr,71496:kr,45950:yr,11673:gr,8478:mr,13234:fr,61618:pr,24557:_r,62101:dr,64085:ur,91357:hr,5869:lr,51167:cr,23393:or,23003:ar,51512:ir,83118:nr,54768:rr,66466:sr}]),(A.webpackChunk_N_E=A.webpackChunk_N_E||[]).push([[9936],{28723:Ti,68223:xi}]),(A.webpackChunk_N_E=A.webpackChunk_N_E||[]).push([[6487],{82230:tr,86773:er,92154:Zs,11589:ji,61953:Ei,93619:Qs,13186:$i,53808:Si,83914:wi,82087:bi,97298:Xs,67272:()=>{}}]),(A.webpackChunk_N_E=A.webpackChunk_N_E||[]).push([[5229],{2067:Hs,26195:Js,76032:(K,j,p)=>{"use strict";p.r(j),p.d(j,{ComponentMod:()=>I,default:()=>te});var y,x={};p.r(x),p.d(x,{AppRouter:()=>w.WY,ClientPageRoot:()=>w.b1,GlobalError:()=>P.ZP,LayoutRouter:()=>w.yO,NotFoundBoundary:()=>w.O4,Postpone:()=>w.hQ,RenderFromTemplateContext:()=>w.b5,__next_app__:()=>B,actionAsyncStorage:()=>w.Wz,createDynamicallyTrackedSearchParams:()=>w.rL,createUntrackedSearchParams:()=>w.S5,decodeAction:()=>w.Hs,decodeFormState:()=>w.dH,decodeReply:()=>w.kf,originalPathname:()=>F,pages:()=>k,patchFetch:()=>w.XH,preconnect:()=>w.$P,preloadFont:()=>w.C5,preloadStyle:()=>w.oH,renderToReadableStream:()=>w.aW,requestAsyncStorage:()=>w.Fg,routeModule:()=>Q,serverHooks:()=>w.GP,staticGenerationAsyncStorage:()=>w.AT,taintObjectReference:()=>w.nr,tree:()=>U}),p(44327);var v=p(27744),T=p(77734),d=p(79510),l=p(85500),f=p(54768),b=p(2860),P=p(23003),w=p(83118);let U=["",{children:["builders",{children:["add-property",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(p.bind(p,70403)),"/workspace/app/app/builders/add-property/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(p.bind(p,97298)),"/workspace/app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(p.bind(p,51512)),"next/dist/client/components/not-found-error"]}],k=["/workspace/app/app/builders/add-property/page.tsx"],F="/builders/add-property/page",B={require:p,loadChunk:()=>Promise.resolve()},Q=new f.AppPageRouteModule({definition:{kind:b.x.APP_PAGE,page:"/builders/add-property/page",pathname:"/builders/add-property",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:U}});var Y=p(64802),W=p(41318),ne=p(70012);let Z=H=>H?JSON.parse(H):void 0,ce=A.__BUILD_MANIFEST,Oe=Z(A.__PRERENDER_MANIFEST),de=Z(A.__REACT_LOADABLE_MANIFEST),ye=(y=A.__RSC_MANIFEST)==null?void 0:y["/builders/add-property/page"],ee=Z(A.__RSC_SERVER_MANIFEST),S=Z(A.__NEXT_FONT_MANIFEST),q=Z(A.__INTERCEPTION_ROUTE_REWRITE_MANIFEST)??[];ye&&ee&&(0,W.Mo)({clientReferenceManifest:ye,serverActionsManifest:ee,serverModuleMap:(0,ne.w)({serverActionsManifest:ee,pageName:"/builders/add-property/page"})});let N=(0,T.d)({pagesType:Y.s.APP,dev:!1,page:"/builders/add-property/page",appMod:null,pageMod:x,errorMod:null,error500Mod:null,Document:null,buildManifest:ce,prerenderManifest:Oe,renderToHTML:l.f,reactLoadableManifest:de,clientReferenceManifest:ye,serverActionsManifest:ee,serverActions:void 0,subresourceIntegrityManifest:void 0,config:{env:{},webpack:null,eslint:{ignoreDuringBuilds:!0},typescript:{ignoreBuildErrors:!0,tsconfigPath:"tsconfig.json"},distDir:".next",cleanDistDir:!0,assetPrefix:"",cacheMaxMemorySize:52428800,configOrigin:"next.config.mjs",useFileSystemPublicRoutes:!0,generateEtags:!0,pageExtensions:["tsx","ts","jsx","js"],poweredByHeader:!0,compress:!0,analyticsId:"",images:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"inline",remotePatterns:[{protocol:"https",hostname:"picsum.photos"},{protocol:"https",hostname:"images.unsplash.com"},{protocol:"https",hostname:"res.cloudinary.com"},{protocol:"https",hostname:"wedevtjjmdvngyshqdro.supabase.co"}],unoptimized:!1},devIndicators:{buildActivity:!0,buildActivityPosition:"bottom-right"},onDemandEntries:{maxInactiveAge:6e4,pagesBufferLength:5},amp:{canonicalBase:""},basePath:"",sassOptions:{},trailingSlash:!1,i18n:null,productionBrowserSourceMaps:!1,optimizeFonts:!0,excludeDefaultMomentLocales:!0,serverRuntimeConfig:{},publicRuntimeConfig:{},reactProductionProfiling:!1,reactStrictMode:!0,httpAgentOptions:{keepAlive:!0},outputFileTracing:!0,staticPageGenerationTimeout:60,swcMinify:!0,modularizeImports:{"@mui/icons-material":{transform:"@mui/icons-material/{{member}}"},lodash:{transform:"lodash/{{member}}"}},experimental:{prerenderEarlyExit:!1,serverMinification:!0,serverSourceMaps:!1,linkNoTouchStart:!1,caseSensitiveRoutes:!1,clientRouterFilter:!0,clientRouterFilterRedirects:!1,fetchCacheKeyPrefix:"",middlewarePrefetch:"flexible",optimisticClientCache:!0,manualClientBasePath:!1,cpus:3,memoryBasedWorkersCount:!1,isrFlushToDisk:!0,workerThreads:!1,optimizeCss:!1,nextScriptWorkers:!1,scrollRestoration:!1,externalDir:!1,disableOptimizedLoading:!1,gzipSize:!0,craCompat:!1,esmExternals:!0,fullySpecified:!1,outputFileTracingRoot:"/workspace/app",swcTraceProfiling:!1,forceSwcTransforms:!1,largePageDataBytes:128e3,adjustFontFallbacks:!1,adjustFontFallbacksWithSizeAdjust:!1,typedRoutes:!0,instrumentationHook:!1,bundlePagesExternals:!1,parallelServerCompiles:!1,parallelServerBuildTraces:!1,ppr:!1,missingSuspenseWithCSRBailout:!0,optimizeServerReact:!0,useEarlyImport:!1,staleTimes:{dynamic:30,static:300},optimizePackageImports:["lucide-react","date-fns","lodash-es","ramda","antd","react-bootstrap","ahooks","@ant-design/icons","@headlessui/react","@headlessui-float/react","@heroicons/react/20/solid","@heroicons/react/24/solid","@heroicons/react/24/outline","@visx/visx","@tremor/react","rxjs","@mui/material","@mui/icons-material","recharts","react-use","@material-ui/core","@material-ui/icons","@tabler/icons-react","mui-core","react-icons/ai","react-icons/bi","react-icons/bs","react-icons/cg","react-icons/ci","react-icons/di","react-icons/fa","react-icons/fa6","react-icons/fc","react-icons/fi","react-icons/gi","react-icons/go","react-icons/gr","react-icons/hi","react-icons/hi2","react-icons/im","react-icons/io","react-icons/io5","react-icons/lia","react-icons/lib","react-icons/lu","react-icons/md","react-icons/pi","react-icons/ri","react-icons/rx","react-icons/si","react-icons/sl","react-icons/tb","react-icons/tfi","react-icons/ti","react-icons/vsc","react-icons/wi"]},configFile:"/workspace/app/next.config.mjs",configFileName:"next.config.mjs"},buildId:"tm2hNW9AeMb1YVWgweICr",nextFontManifest:S,incrementalCacheHandler:null,interceptionRouteRewrites:q}),I=x;function te(H){return(0,v.C)({...H,IncrementalCache:d.k,handler:N})}},34740:(K,j,p)=>{Promise.resolve().then(p.bind(p,76162))},76162:(K,j,p)=>{"use strict";p.d(j,{default:()=>Ts});var y,x,v,T,d,l,f,b,P,w,U,k=p(5486),F=p(32428),B=p(83914);let Q=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Promise.resolve().then(p.bind(p,96662)).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)};class Y extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class W extends Y{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ne extends Y{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Z extends Y{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(y||(y={}));class ce{constructor(e,{headers:t={},customFetch:s,region:r=y.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=Q(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var s,r,i,a,o;return r=this,i=void 0,a=void 0,o=function*(){try{let c,{headers:h,method:u,body:m}=t,g={},{region:$}=t;$||($=this.region),$&&$!=="any"&&(g["x-region"]=$),m&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)&&(typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",c=m):typeof m=="string"?(g["Content-Type"]="text/plain",c=m):typeof FormData<"u"&&m instanceof FormData?c=m:(g["Content-Type"]="application/json",c=JSON.stringify(m)));let O=yield this.fetch(`${this.url}/${e}`,{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),h),body:c}).catch(M=>{throw new W(M)}),E=O.headers.get("x-relay-error");if(E&&E==="true")throw new ne(O);if(!O.ok)throw new Z(O);let R=((s=O.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim();return{data:R==="application/json"?yield O.json():R==="application/octet-stream"?yield O.blob():R==="text/event-stream"?O:R==="multipart/form-data"?yield O.formData():yield O.text(),error:null}}catch(c){return{data:null,error:c}}},new(a||(a=Promise))(function(c,h){function u($){try{g(o.next($))}catch(O){h(O)}}function m($){try{g(o.throw($))}catch(O){h(O)}}function g($){var O;$.done?c($.value):((O=$.value)instanceof a?O:new a(function(E){E(O)})).then(u,m)}g((o=o.apply(r,i||[])).next())})}}let{PostgrestClient:Oe,PostgrestQueryBuilder:de,PostgrestFilterBuilder:ye,PostgrestTransformBuilder:ee,PostgrestBuilder:S}=p(33069),q={"X-Client-Info":"realtime-js/2.10.2"};(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(x||(x={})),function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"}(v||(v={})),function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"}(T||(T={})),(d||(d={})).websocket="websocket",function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"}(l||(l={}));class N{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){let t=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,t,s)}_decodeBroadcast(e,t,s){let r=t.getUint8(1),i=t.getUint8(2),a=this.HEADER_LENGTH+2,o=s.decode(e.slice(a,a+r));a+=r;let c=s.decode(e.slice(a,a+i));return a+=i,{ref:null,topic:o,event:c,payload:JSON.parse(s.decode(e.slice(a,e.byteLength)))}}}class I{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(f||(f={}));let te=(n,e,t={})=>{var s;let r=(s=t.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((i,a)=>(i[a]=H(a,n,e,r),i),{})},H=(n,e,t,s)=>{let r=e.find(o=>o.name===n),i=r?.type,a=t[n];return i&&!s.includes(i)?le(i,a):he(a)},le=(n,e)=>{if(n.charAt(0)==="_")return It(e,n.slice(1,n.length));switch(n){case f.bool:return ie(e);case f.float4:case f.float8:case f.int2:case f.int4:case f.int8:case f.numeric:case f.oid:return ue(e);case f.json:case f.jsonb:return Fe(e);case f.timestamp:return Nt(e);case f.abstime:case f.date:case f.daterange:case f.int4range:case f.int8range:case f.money:case f.reltime:case f.text:case f.time:case f.timestamptz:case f.timetz:case f.tsrange:case f.tstzrange:default:return he(e)}},he=n=>n,ie=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},ue=n=>{if(typeof n=="string"){let e=parseFloat(n);if(!Number.isNaN(e))return e}return n},Fe=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){console.log(`JSON parse error: ${e}`)}return n},It=(n,e)=>{if(typeof n!="string")return n;let t=n.length-1,s=n[t];if(n[0]==="{"&&s==="}"){let r,i=n.slice(1,t);try{r=JSON.parse("["+i+"]")}catch{r=i?i.split(","):[]}return r.map(a=>le(e,a))}return n},Nt=n=>typeof n=="string"?n.replace(" ","T"):n,dt=n=>{let e=n;return(e=(e=e.replace(/^ws/i,"http")).replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,"")).replace(/\/+$/,"")};class We{constructor(e,t,s={},r=1e4){this.channel=e,this.event=t,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(b||(b={}));class Re{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let s=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{let{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Re.syncState(this.state,r,i,a),this.pendingDiffs.forEach(c=>{this.state=Re.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(s.diff,{},r=>{let{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Re.syncDiff(this.state,r,i,a),o())}),this.onJoin((r,i,a)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:a})}),this.onLeave((r,i,a)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,r){let i=this.cloneDeep(e),a=this.transformState(t),o={},c={};return this.map(i,(h,u)=>{a[h]||(c[h]=u)}),this.map(a,(h,u)=>{let m=i[h];if(m){let g=u.map(R=>R.presence_ref),$=m.map(R=>R.presence_ref),O=u.filter(R=>0>$.indexOf(R.presence_ref)),E=m.filter(R=>0>g.indexOf(R.presence_ref));O.length>0&&(o[h]=O),E.length>0&&(c[h]=E)}else o[h]=u}),this.syncDiff(i,{joins:o,leaves:c},s,r)}static syncDiff(e,t,s,r){let{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(i,(o,c)=>{var h;let u=(h=e[o])!==null&&h!==void 0?h:[];if(e[o]=this.cloneDeep(c),u.length>0){let m=e[o].map($=>$.presence_ref),g=u.filter($=>0>m.indexOf($.presence_ref));e[o].unshift(...g)}s(o,u,c)}),this.map(a,(o,c)=>{let h=e[o];if(!h)return;let u=c.map(m=>m.presence_ref);h=h.filter(m=>0>u.indexOf(m.presence_ref)),e[o]=h,r(o,h,c),h.length===0&&delete e[o]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return Object.getOwnPropertyNames(e=this.cloneDeep(e)).reduce((t,s)=>{let r=e[s];return"metas"in r?t[s]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[s]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(P||(P={})),function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes"}(w||(w={})),function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"}(U||(U={}));class Ve{constructor(e,t={config:{}},s){this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=v.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new We(this,T.join,this.params,this.timeout),this.rejoinTimer=new I(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=v.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=v.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=v.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=v.errored,this.rejoinTimer.scheduleTimeout())}),this._on(T.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new Re(this),this.broadcastEndpointURL=dt(this.socket.endPoint)+"/api/broadcast"}subscribe(e,t=this.timeout){var s,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(u=>e&&e("CHANNEL_ERROR",u)),this._onClose(()=>e&&e("CLOSED"));let c={},h={broadcast:i,presence:a,postgres_changes:(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(u=>u.filter))!==null&&r!==void 0?r:[],private:o};this.socket.accessToken&&(c.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:h},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:u})=>{var m;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){e&&e("SUBSCRIBED");return}{let g=this.bindings.postgres_changes,$=(m=g?.length)!==null&&m!==void 0?m:0,O=[];for(let E=0;E<$;E++){let R=g[E],{filter:{event:M,schema:V,table:G,filter:re}}=R,oe=u&&u[E];if(oe&&oe.event===M&&oe.schema===V&&oe.table===G&&oe.filter===re)O.push(Object.assign(Object.assign({},R),{id:oe.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,e&&e("SUBSCRIBED");return}}).receive("error",u=>{e&&e("CHANNEL_ERROR",Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this._on(e,t,s)}async send(e,t={}){var s,r;if(this._canPush()||e.type!=="broadcast")return new Promise(i=>{var a,o,c;let h=this._push(e.type,e,t.timeout||this.timeout);e.type!=="broadcast"||((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0?void 0:c.ack)||i("ok"),h.receive("ok",()=>i("ok")),h.receive("error",()=>i("error")),h.receive("timeout",()=>i("timed out"))});{let{event:i,payload:a}=e,o={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a}]})};try{let c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=c.body)===null||r===void 0?void 0:r.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=v.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(T.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{let r=new We(this,T.leave,{},e);r.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(e,t,s){let r=new AbortController,i=setTimeout(()=>r.abort(),s),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(i),a}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new We(this,e,t,s);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var r,i;let a=e.toLocaleLowerCase(),{close:o,error:c,leave:h,join:u}=T;if(s&&[o,c,h,u].indexOf(a)>=0&&s!==this._joinRef())return;let m=this._onMessage(a,t,s);if(t&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(g=>{var $,O,E;return(($=g.filter)===null||$===void 0?void 0:$.event)==="*"||((E=(O=g.filter)===null||O===void 0?void 0:O.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===a}).map(g=>g.callback(m,s)):(i=this.bindings[a])===null||i===void 0||i.filter(g=>{var $,O,E,R,M,V;if(!["broadcast","presence","postgres_changes"].includes(a))return g.type.toLocaleLowerCase()===a;if("id"in g){let G=g.id,re=($=g.filter)===null||$===void 0?void 0:$.event;return G&&((O=t.ids)===null||O===void 0?void 0:O.includes(G))&&(re==="*"||re?.toLocaleLowerCase()===((E=t.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}{let G=(M=(R=g?.filter)===null||R===void 0?void 0:R.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return G==="*"||G===((V=t?.event)===null||V===void 0?void 0:V.toLocaleLowerCase())}}).map(g=>{if(typeof m=="object"&&"ids"in m){let $=m.data,{schema:O,table:E,commit_timestamp:R,type:M,errors:V}=$;m=Object.assign(Object.assign({},{schema:O,table:E,commit_timestamp:R,eventType:M,new:{},old:{},errors:V}),this._getPayloadRecords($))}g.callback(m,s)})}_isClosed(){return this.state===v.closed}_isJoined(){return this.state===v.joined}_isJoining(){return this.state===v.joining}_isLeaving(){return this.state===v.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){let r=e.toLocaleLowerCase(),i={type:r,filter:t,callback:s};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,t){let s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Ve.isEqual(r.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let s in e)if(e[s]!==t[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(T.close,{},e)}_onError(e){this._on(T.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=v.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=te(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=te(e.columns,e.old_record)),t}}let Lt=()=>{},Ut=typeof WebSocket<"u";class Dt{constructor(e,t){var s;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=q,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Lt,this.conn=null,this.sendBuffer=[],this.serializer=new N,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Promise.resolve().then(p.bind(p,96662)).then(({default:c})=>c(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${d.websocket}`,this.httpEndpoint=dt(e),t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let r=(s=t?.params)===null||s===void 0?void 0:s.apikey;r&&(this.accessToken=r,this.apiKey=r),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t?.encode?t.encode:(i,a)=>a(JSON.stringify(i)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new I(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Ut){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Mt(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Promise.resolve().then(p.t.bind(p,60090,23)).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){let t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){let e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case x.connecting:return l.Connecting;case x.open:return l.Open;case x.closing:return l.Closing;default:return l.Closed}}isConnected(){return this.connectionState()===l.Open}channel(e,t={config:{}}){let s=new Ve(`realtime:${e}`,t,this);return this.channels.push(s),s}push(e){let{topic:t,event:s,payload:r,ref:i}=e,a=()=>{this.encode(e,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${t} ${s} (${i})`,r),this.isConnected()?a():this.sendBuffer.push(a)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(T.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:s,event:r,payload:i,ref:a}=t;(a&&a===this.pendingHeartbeatRef||r===i?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${r} ${a&&"("+a+")"||""}`,i),this.channels.filter(o=>o._isMember(s)).forEach(o=>o._trigger(r,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(T.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;let s=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return`${e}${s}${r}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(1e3,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class Mt{constructor(e,t,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=x.connecting,this.send=Ys,this.url=null,this.url=e,this.close=s.close}}class Ye extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function X(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class Ft extends Ye{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Xe extends Ye{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}let _t=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Promise.resolve().then(p.bind(p,96662)).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},Bt=()=>function(n,e,t,s){return new(t||(t=Promise))(function(r,i){function a(h){try{c(s.next(h))}catch(u){i(u)}}function o(h){try{c(s.throw(h))}catch(u){i(u)}}function c(h){var u;h.done?r(h.value):((u=h.value)instanceof t?u:new t(function(m){m(u)})).then(a,o)}c((s=s.apply(n,e||[])).next())})}(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(p.bind(p,96662))).Response:Response}),Qe=n=>{if(Array.isArray(n))return n.map(t=>Qe(t));if(typeof n=="function"||n!==Object(n))return n;let e={};return Object.entries(n).forEach(([t,s])=>{e[t.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""))]=Qe(s)}),e};var ke=function(n,e,t,s){return new(t||(t=Promise))(function(r,i){function a(h){try{c(s.next(h))}catch(u){i(u)}}function o(h){try{c(s.throw(h))}catch(u){i(u)}}function c(h){var u;h.done?r(h.value):((u=h.value)instanceof t?u:new t(function(m){m(u)})).then(a,o)}c((s=s.apply(n,e||[])).next())})};let Ze=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Kt=(n,e,t)=>ke(void 0,void 0,void 0,function*(){n instanceof(yield Bt())&&!t?.noResolveJson?n.json().then(s=>{e(new Ft(Ze(s),n.status||500))}).catch(s=>{e(new Xe(Ze(s),s))}):e(new Xe(Ze(n),n))}),qt=(n,e,t,s)=>{let r={method:n,headers:e?.headers||{}};return n==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e?.headers),s&&(r.body=JSON.stringify(s)),Object.assign(Object.assign({},r),t))};function Ae(n,e,t,s,r,i){return ke(this,void 0,void 0,function*(){return new Promise((a,o)=>{n(t,qt(e,s,r,i)).then(c=>{if(!c.ok)throw c;return s?.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>Kt(c,o,s))})})}function Be(n,e,t,s){return ke(this,void 0,void 0,function*(){return Ae(n,"GET",e,t,s)})}function pe(n,e,t,s,r){return ke(this,void 0,void 0,function*(){return Ae(n,"POST",e,s,r,t)})}function pt(n,e,t,s,r){return ke(this,void 0,void 0,function*(){return Ae(n,"DELETE",e,s,r,t)})}var ft=p(26195).Buffer,se=function(n,e,t,s){return new(t||(t=Promise))(function(r,i){function a(h){try{c(s.next(h))}catch(u){i(u)}}function o(h){try{c(s.throw(h))}catch(u){i(u)}}function c(h){var u;h.done?r(h.value):((u=h.value)instanceof t?u:new t(function(m){m(u)})).then(a,o)}c((s=s.apply(n,e||[])).next())})};let zt={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mt={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Jt{constructor(e,t={},s,r){this.url=e,this.headers=t,this.bucketId=s,this.fetch=_t(r)}uploadOrUpdate(e,t,s,r){return se(this,void 0,void 0,function*(){try{let i,a=Object.assign(Object.assign({},mt),r),o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)}),c=a.metadata;typeof Blob<"u"&&s instanceof Blob?((i=new FormData).append("cacheControl",a.cacheControl),i.append("",s),c&&i.append("metadata",this.encodeMetadata(c))):typeof FormData<"u"&&s instanceof FormData?((i=s).append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=s,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),r?.headers&&(o=Object.assign(Object.assign({},o),r.headers));let h=this._removeEmptyFolders(t),u=this._getFinalPath(h),m=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:o},a?.duplex?{duplex:a.duplex}:{})),g=yield m.json();return m.ok?{data:{path:h,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(i){if(X(i))return{data:null,error:i};throw i}})}upload(e,t,s){return se(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,r){return se(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(e),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",t);try{let c,h=Object.assign({upsert:mt.upsert},r),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&s instanceof Blob?((c=new FormData).append("cacheControl",h.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s).append("cacheControl",h.cacheControl):(c=s,u["cache-control"]=`max-age=${h.cacheControl}`,u["content-type"]=h.contentType);let m=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:u}),g=yield m.json();return m.ok?{data:{path:i,fullPath:g.Key},error:null}:{data:null,error:g}}catch(c){if(X(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return se(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),r=Object.assign({},this.headers);t?.upsert&&(r["x-upsert"]="true");let i=yield pe(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new Ye("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}})}update(e,t,s){return se(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t,s){return se(this,void 0,void 0,function*(){try{return{data:yield pe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}})}copy(e,t,s){return se(this,void 0,void 0,function*(){try{return{data:{path:(yield pe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,s){return se(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield pe(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},s?.transform?{transform:s.transform}:{}),{headers:this.headers}),a=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,s){return se(this,void 0,void 0,function*(){try{let r=yield pe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}})}download(e,t){return se(this,void 0,void 0,function*(){let s=t?.transform!==void 0,r=this.transformOptsToQueryString(t?.transform||{}),i=r?`?${r}`:"";try{let a=this._getFinalPath(e);return{data:yield(yield Be(this.fetch,`${this.url}/${s?"render/image/authenticated":"object"}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(X(a))return{data:null,error:a};throw a}})}info(e){return se(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{let s=yield Be(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Qe(s),error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}})}exists(e){return se(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{return yield function(s,r,i,a){return ke(this,void 0,void 0,function*(){return Ae(s,"HEAD",r,Object.assign(Object.assign({},i),{noResolveJson:!0}),void 0)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(X(s)&&s instanceof Xe){let r=s.originalError;if([400,404].includes(r?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,t){let s=this._getFinalPath(e),r=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);let a=t?.transform!==void 0,o=this.transformOptsToQueryString(t?.transform||{});o!==""&&r.push(o);let c=r.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a?"render/image":"object"}/public/${s}${c}`)}}}remove(e){return se(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(X(t))return{data:null,error:t};throw t}})}list(e,t,s){return se(this,void 0,void 0,function*(){try{let r=Object.assign(Object.assign(Object.assign({},zt),t),{prefix:e||""});return{data:yield pe(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return ft!==void 0?ft.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}let Ht={"X-Client-Info":"storage-js/2.7.0"};var Ee=function(n,e,t,s){return new(t||(t=Promise))(function(r,i){function a(h){try{c(s.next(h))}catch(u){i(u)}}function o(h){try{c(s.throw(h))}catch(u){i(u)}}function c(h){var u;h.done?r(h.value):((u=h.value)instanceof t?u:new t(function(m){m(u)})).then(a,o)}c((s=s.apply(n,e||[])).next())})};class Gt{constructor(e,t={},s){this.url=e,this.headers=Object.assign(Object.assign({},Ht),t),this.fetch=_t(s)}listBuckets(){return Ee(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(X(e))return{data:null,error:e};throw e}})}getBucket(e){return Ee(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(X(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Ee(this,void 0,void 0,function*(){try{return{data:yield pe(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}})}updateBucket(e,t){return Ee(this,void 0,void 0,function*(){try{return{data:yield function(s,r,i,a,o){return ke(this,void 0,void 0,function*(){return Ae(s,"PUT",r,a,void 0,i)})}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Ee(this,void 0,void 0,function*(){try{return{data:yield pe(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(X(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Ee(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(X(t))return{data:null,error:t};throw t}})}}class Wt extends Gt{constructor(e,t={},s){super(e,t,s)}from(e){return new Jt(this.url,this.headers,e,this.fetch)}}let Ce="";typeof Deno<"u"?Ce="deno":typeof document<"u"?Ce="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ce="react-native":Ce="node";let Vt={headers:{"X-Client-Info":`supabase-js-${Ce}/2.45.4`}},Yt={schema:"public"},Xt={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Qt={};var gt=p(96662);let Zt=n=>{let e;return n?e=n:typeof fetch>"u"?e=gt.default:e=fetch,(...t)=>e(...t)},es=()=>typeof Headers>"u"?gt.Headers:Headers,ts=(n,e,t)=>{let s=Zt(t),r=es();return(i,a)=>function(o,c,h,u){return new(h||(h=Promise))(function(m,g){function $(R){try{E(u.next(R))}catch(M){g(M)}}function O(R){try{E(u.throw(R))}catch(M){g(M)}}function E(R){var M;R.done?m(R.value):((M=R.value)instanceof h?M:new h(function(V){V(M)})).then($,O)}E((u=u.apply(o,c||[])).next())})}(void 0,void 0,void 0,function*(){var o;let c=(o=yield e())!==null&&o!==void 0?o:n,h=new r(a?.headers);return h.has("apikey")||h.set("apikey",n),h.has("Authorization")||h.set("Authorization",`Bearer ${c}`),s(i,Object.assign(Object.assign({},a),{headers:h}))})},yt="2.65.0",ss={"X-Client-Info":`gotrue-js/${yt}`},et="X-Supabase-Api-Version",kt={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ae=()=>typeof document<"u",ve={tested:!1,writable:!1},Ie=()=>{if(!ae())return!1;try{if(typeof C.localStorage!="object")return!1}catch{return!1}if(ve.tested)return ve.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{C.localStorage.setItem(n,n),C.localStorage.removeItem(n),ve.tested=!0,ve.writable=!0}catch{ve.tested=!0,ve.writable=!1}return ve.writable};function tt(n){let e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,r)=>{e[r]=s})}catch{}return t.searchParams.forEach((s,r)=>{e[r]=s}),e}let vt=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Promise.resolve().then(p.bind(p,96662)).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},rs=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",bt=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Ke=async(n,e)=>{let t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},qe=async(n,e)=>{await n.removeItem(e)};class ze{constructor(){this.promise=new ze.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function wt(n){let e=n.split(".");if(e.length!==3)throw Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(e[1]))throw Error("JWT is not valid: payload is not in base64url format");return JSON.parse(function(t){let s,r,i,a,o,c,h,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",m="",g=0;for(t=t.replace("-","+").replace("_","/");g<t.length;)a=u.indexOf(t.charAt(g++)),o=u.indexOf(t.charAt(g++)),c=u.indexOf(t.charAt(g++)),h=u.indexOf(t.charAt(g++)),s=a<<2|o>>4,r=(15&o)<<4|c>>2,i=(3&c)<<6|h,m+=String.fromCharCode(s),c!=64&&r!=0&&(m+=String.fromCharCode(r)),h!=64&&i!=0&&(m+=String.fromCharCode(i));return m}(e[1]))}async function ns(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function is(n){return("0"+n.toString(16)).substr(-2)}async function as(n){let e=new TextEncoder().encode(n);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",e))).map(t=>String.fromCharCode(t)).join("")}async function os(n){return typeof crypto<"u"&&crypto.subtle!==void 0&&typeof TextEncoder<"u"?btoa(await as(n)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):(console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n)}async function je(n,e,t=!1){let s=function(){let o=new Uint32Array(56);if(typeof crypto>"u"){let c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",h=c.length,u="";for(let m=0;m<56;m++)u+=c.charAt(Math.floor(Math.random()*h));return u}return crypto.getRandomValues(o),Array.from(o,is).join("")}(),r=s;t&&(r+="/PASSWORD_RECOVERY"),await bt(n,`${e}-code-verifier`,r);let i=await os(s);return[i,s===i?"plain":"s256"]}ze.promiseConstructor=Promise;let cs=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;class st extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function L(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class ls extends st{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}class xt extends st{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class be extends st{constructor(e,t,s,r){super(e,s,r),this.name=t,this.status=s}}class fe extends be{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class rt extends be{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Je extends be{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class He extends be{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class St extends be{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nt extends be{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function it(n){return L(n)&&n.name==="AuthRetryableFetchError"}class Et extends be{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}var hs=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&0>e.indexOf(s)&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(n);r<s.length;r++)0>e.indexOf(s[r])&&Object.prototype.propertyIsEnumerable.call(n,s[r])&&(t[s[r]]=n[s[r]]);return t};let we=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),us=[502,503,504];async function jt(n){var e;let t,s;if(!rs(n))throw new nt(we(n),0);if(us.includes(n.status))throw new nt(we(n),n.status);try{t=await n.json()}catch(i){throw new xt(we(i),i)}let r=function(i){let a=i.headers.get(et);if(!a||!a.match(cs))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}(n);if(r&&r.getTime()>=kt["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?s=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(s=t.error_code),s){if(s==="weak_password")throw new Et(we(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new fe}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Et(we(t),n.status,t.weak_password.reasons);throw new ls(we(t),n.status||500,s)}let ds=(n,e,t,s)=>{let r={method:n,headers:e?.headers||{}};return n==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),t))};async function D(n,e,t,s){var r;let i=Object.assign({},s?.headers);i[et]||(i[et]=kt["2024-01-01"].name),s?.jwt&&(i.Authorization=`Bearer ${s.jwt}`);let a=(r=s?.query)!==null&&r!==void 0?r:{};s?.redirectTo&&(a.redirect_to=s.redirectTo);let o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await _s(n,e,t+o,{headers:i,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(c):{data:Object.assign({},c),error:null}}async function _s(n,e,t,s,r,i){let a,o=ds(e,s,r,i);try{a=await n(t,Object.assign({},o))}catch(c){throw console.error(c),new nt(we(c),0)}if(a.ok||await jt(a),s?.noResolveJson)return a;try{return await a.json()}catch(c){await jt(c)}}function me(n){var e,t;let s=null;return n.access_token&&n.refresh_token&&n.expires_in&&(s=Object.assign({},n),!n.expires_at)&&(s.expires_at=(t=n.expires_in,Math.round(Date.now()/1e3)+t)),{data:{session:s,user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function Tt(n){let e=me(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,s)=>t&&typeof s=="string",!0)&&(e.data.weak_password=n.weak_password),e}function ge(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function ps(n){return{data:n,error:null}}function fs(n){let{action_link:e,email_otp:t,hashed_token:s,redirect_to:r,verification_type:i}=n;return{data:{properties:{action_link:e,email_otp:t,hashed_token:s,redirect_to:r,verification_type:i},user:Object.assign({},hs(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]))},error:null}}function ms(n){return n}var gs=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&0>e.indexOf(s)&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(n);r<s.length;r++)0>e.indexOf(s[r])&&Object.prototype.propertyIsEnumerable.call(n,s[r])&&(t[s[r]]=n[s[r]]);return t};class ys{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=vt(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await D(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(L(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await D(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ge})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{let{options:t}=e,s=gs(e,["options"]),r=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(r.new_email=s?.newEmail,delete r.newEmail),await D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:fs,redirectTo:t?.redirectTo})}catch(t){if(L(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await D(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ge})}catch(t){if(L(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,r,i,a,o,c;try{let h={nextPage:null,lastPage:0,total:0},u=await D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(i=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:ms});if(u.error)throw u.error;let m=await u.json(),g=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,$=(c=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return $.length>0&&($.forEach(O=>{let E=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(O.split(";")[1].split("=")[1]);h[`${R}Page`]=E}),h.total=parseInt(g)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(L(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){try{return await D(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ge})}catch(t){if(L(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await D(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:ge})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){try{return await D(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:ge})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){try{let{data:t,error:s}=await D(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:t,error:s}}catch(t){if(L(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await D(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(L(t))return{data:null,error:t};throw t}}}let ks={getItem:n=>Ie()?C.localStorage.getItem(n):null,setItem:(n,e)=>{Ie()&&C.localStorage.setItem(n,e)},removeItem:n=>{Ie()&&C.localStorage.removeItem(n)}};function Pt(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}let Te={debug:!!(C&&Ie()&&C.localStorage&&C.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $t extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class vs extends $t{}async function bs(n,e,t){Te.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);let s=new C.AbortController;return e>0&&setTimeout(()=>{s.abort(),Te.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await C.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){Te.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,r.name);try{return await t()}finally{Te.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,r.name)}}else{if(e===0)throw Te.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new vs(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Te.debug)try{let i=await C.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}})}(function(){if(typeof C!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof A<"u"&&(A.globalThis=A)}})();let ws={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ss,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ot(n,e,t){return await t()}class Ne{constructor(e){var t,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ne.nextInstanceID,Ne.nextInstanceID+=1,this.instanceID>0&&ae()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let r=Object.assign(Object.assign({},ws),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new ys({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=vt(r.fetch),this.lock=r.lock||Ot,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:ae()&&((t=C?.navigator)===null||t===void 0?void 0:t.locks)?this.lock=bs:this.lock=Ot,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:Ie()?this.storage=ks:(this.memoryStorage={},this.storage=Pt(this.memoryStorage)):(this.memoryStorage={},this.storage=Pt(this.memoryStorage)),ae()&&C.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new C.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yt}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){try{let e=!!ae()&&await this._isPKCEFlow();if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:t,error:s}=await this._getSessionFromURL(e);if(s)return this._debug("#_initialize()","error detecting session from URL",s),s?.message==="Identity is already linked"||s?.message==="Identity is already linked to another user"?{error:s}:(await this._removeSession(),{error:s});let{session:r,redirectType:i}=t;return this._debug("#_initialize()","detected session in URL",r,"redirect type",i),await this._saveSession(r),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return L(e)?{error:e}:{error:new xt("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,r;try{let{data:i,error:a}=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=e?.options)===null||r===void 0?void 0:r.captchaToken}},xform:me});if(a||!i)return{data:{user:null,session:null},error:a};let o=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:c,session:o},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,s,r;try{let i;if("email"in e){let{email:u,password:m,options:g}=e,$=null,O=null;this.flowType==="pkce"&&([$,O]=await je(this.storage,this.storageKey)),i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:u,password:m,data:(t=g?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:$,code_challenge_method:O},xform:me})}else if("phone"in e){let{phone:u,password:m,options:g}=e;i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:m,data:(s=g?.data)!==null&&s!==void 0?s:{},channel:(r=g?.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:me})}else throw new Je("You must provide either an email or phone number and a password");let{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};let c=a.session,h=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:h,session:c},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){let{email:i,password:a,options:o}=e;t=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Tt})}else if("phone"in e){let{phone:i,password:a,options:o}=e;t=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Tt})}else throw new Je("You must provide either an email or phone number and a password");let{data:s,error:r}=t;return r?{data:{user:null,session:null},error:r}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new rt}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(t){if(L(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,s,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){let t=await Ke(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(t??"").split("/");try{let{data:i,error:a}=await D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:me});if(await qe(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new rt}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:a})}catch(i){if(L(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{let{options:t,provider:s,token:r,access_token:i,nonce:a}=e,{data:o,error:c}=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:me});return c?{data:{user:null,session:null},error:c}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new rt}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:c})}catch(t){if(L(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,s,r,i,a;try{if("email"in e){let{email:o,options:c}=e,h=null,u=null;this.flowType==="pkce"&&([h,u]=await je(this.storage,this.storageKey));let{error:m}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=c?.data)!==null&&t!==void 0?t:{},create_user:(s=c?.shouldCreateUser)===null||s===void 0||s,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:h,code_challenge_method:u},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in e){let{phone:o,options:c}=e,{data:h,error:u}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)===null||i===void 0||i,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:h?.message_id},error:u}}throw new Je("You must provide either an email or phone number.")}catch(o){if(L(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,s;try{let r,i;"options"in e&&(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);let{data:a,error:o}=await D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:me});if(o)throw o;if(!a)throw Error("An error occurred on token verification.");let c=a.session,h=a.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:h,session:c},error:null}}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,s,r;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await je(this.storage,this.storageKey)),await D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=e?.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:ps})}catch(i){if(L(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new fe;let{error:r}=await D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(L(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{let t=`${this.url}/resend`;if("email"in e){let{email:s,type:r,options:i}=e,{error:a}=await D(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){let{phone:s,type:r,options:i}=e,{data:a,error:o}=await D(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:o}}throw new Je("You must provide either an email or phone number and a type")}catch(t){if(L(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){let r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{let t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",Error().stack);try{let e=null,t=await Ke(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};let s=!!e.expires_at&&e.expires_at<=Date.now()/1e3;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(o,c,h)=>(a||c!=="user"||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(o,c,h))})}return{data:{session:e},error:null}}let{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ge}):await this._useSession(async t=>{var s,r,i;let{data:a,error:o}=t;if(o)throw o;return((s=a.session)===null||s===void 0?void 0:s.access_token)||this.hasCustomAuthorizationHeader?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:ge}):{data:{user:null},error:new fe}})}catch(t){if(L(t))return L(t)&&t.name==="AuthSessionMissingError"&&(await this._removeSession(),await qe(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{let{data:r,error:i}=s;if(i)throw i;if(!r.session)throw new fe;let a=r.session,o=null,c=null;this.flowType==="pkce"&&e.email!=null&&([o,c]=await je(this.storage,this.storageKey));let{data:h,error:u}=await D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:ge});if(u)throw u;return a.user=h.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}_decodeJWT(e){return wt(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new fe;let t=Date.now()/1e3,s=t,r=!0,i=null,a=wt(e.access_token);if(a.exp&&(r=(s=a.exp)<=t),r){let{session:o,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{let{data:o,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(L(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){let{data:a,error:o}=t;if(o)throw o;e=(s=a.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new fe;let{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(L(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e){try{if(!ae())throw new He("No browser detected.");if(this.flowType!=="implicit"||this._isImplicitGrantFlow()){if(this.flowType=="pkce"&&!e)throw new St("Not a valid PKCE flow url.")}else throw new He("Not a valid implicit grant flow url.");let t=tt(window.location.href);if(e){if(!t.code)throw new St("No code detected.");let{data:V,error:G}=await this._exchangeCodeForSession(t.code);if(G)throw G;let re=new URL(window.location.href);return re.searchParams.delete("code"),window.history.replaceState(window.history.state,"",re.toString()),{data:{session:V.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new He(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});let{provider_token:s,provider_refresh_token:r,access_token:i,refresh_token:a,expires_in:o,expires_at:c,token_type:h}=t;if(!i||!o||!a||!h)throw new He("No session defined in URL");let u=Math.round(Date.now()/1e3),m=parseInt(o),g=u+m;c&&(g=parseInt(c));let $=g-u;1e3*$<=3e4&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${$}s, should have been closer to ${m}s`);let O=g-m;u-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,g,u):u-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,g,u);let{data:E,error:R}=await this._getUser(i);if(R)throw R;let M={provider_token:s,provider_refresh_token:r,access_token:i,expires_in:m,expires_at:g,refresh_token:a,token_type:h,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:M,redirectType:t.type},error:null}}catch(t){if(L(t))return{data:{session:null,redirectType:null},error:t};throw t}}_isImplicitGrantFlow(){let e=tt(window.location.href);return!!(ae()&&(e.access_token||e.error_description))}async _isPKCEFlow(){let e=tt(window.location.href),t=await Ke(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;let{data:r,error:i}=t;if(i)return{error:i};let a=(s=r.session)===null||s===void 0?void 0:s.access_token;if(a){let{error:o}=await this.admin.signOut(a,e);if(o&&!(L(o)&&o.name==="AuthApiError"&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await qe(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){let t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){let i=16*Math.random()|0;return(r=="x"?i:3&i|8).toString(16)}),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,r;try{let{data:{session:i},error:a}=t;if(a)throw a;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await je(this.storage,this.storageKey,!0));try{return await D(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(L(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{let{data:t,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(L(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{let{data:s,error:r}=await this._useSession(async i=>{var a,o,c,h,u;let{data:m,error:g}=i;if(g)throw g;let $=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await D(this.fetch,"GET",$,{headers:this.headers,jwt:(u=(h=m.session)===null||h===void 0?void 0:h.access_token)!==null&&u!==void 0?u:void 0})});if(r)throw r;return!ae()||((t=e.options)===null||t===void 0?void 0:t.skipBrowserRedirect)||window.location.assign(s?.url),{data:{provider:e.provider,url:s?.url},error:null}}catch(s){if(L(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,r;let{data:i,error:a}=t;if(a)throw a;return await D(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(t){if(L(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){let t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{var s,r;let i=Date.now();return await(s=async a=>(a>0&&await ns(200*Math.pow(2,a-1)),this._debug(t,"refreshing attempt",a),await D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:me})),r=(a,o)=>o&&it(o)&&Date.now()+200*Math.pow(2,a)-i<3e4,new Promise((a,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{let h=await s(c);if(!r(c,null,h)){a(h);return}}catch(h){if(!r(c,h)){o(h);return}}})()}))}catch(i){if(this._debug(t,"error",i),L(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){let s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),ae()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e;let t="#_recoverAndRefresh()";this._debug(t,"begin");try{let s=await Ke(this.storage,this.storageKey);if(this._debug(t,"session from storage",s),!this._isValidSession(s)){this._debug(t,"session is not valid"),s!==null&&await this._removeSession();return}let r=Math.round(Date.now()/1e3),i=((e=s.expires_at)!==null&&e!==void 0?e:1/0)<r+10;if(this._debug(t,`session has${i?"":" not"} expired with margin of 10s`),i){if(this.autoRefreshToken&&s.refresh_token){let{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),it(a)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(t,"error",s),console.error(s);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new fe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new ze;let{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new fe;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);let o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(r,"error",i),L(i)){let a={session:null,error:i};return it(i)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(a),a}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,s=!0){let r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});let i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,t)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await bt(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await qe(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ae()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),3e4);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async t=>{let{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let r=Math.floor((1e3*s.expires_at-e)/3e4);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof $t)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ae()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){let t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){let r=[`provider=${encodeURIComponent(t)}`];if(s?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){let[i,a]=await je(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});r.push(o.toString())}if(s?.queryParams){let i=new URLSearchParams(s.queryParams);r.push(i.toString())}return s?.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;let{data:r,error:i}=t;return i?{data:null,error:i}:await D(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(L(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,r;let{data:i,error:a}=t;if(a)return{data:null,error:a};let o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:h}=await D(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return h?{data:null,error:h}:(e.factorType==="phone"&&delete c.totp,e.factorType==="totp"&&((r=c?.totp)===null||r===void 0?void 0:r.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(t){if(L(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;let{data:r,error:i}=t;if(i)return{data:null,error:i};let{data:a,error:o}=await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(t){if(L(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;let{data:r,error:i}=t;return i?{data:null,error:i}:await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(L(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){let{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){let{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};let s=e?.factors||[],r=s.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=s.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:s,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,s;let{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(r.access_token),o=null;a.aal&&(o=a.aal);let c=o;return((s=(t=r.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2"),{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:a.amr||[]},error:null}}))}}Ne.nextInstanceID=0;let xs=Ne;class Ss extends xs{constructor(e){super(e)}}class Es{constructor(e,t,s){var r,i,a;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw Error("supabaseUrl is required.");if(!t)throw Error("supabaseKey is required.");let o=e.replace(/\/$/,"");this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;let c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,h=function(u,m){let{db:g,auth:$,realtime:O,global:E}=u,{db:R,auth:M,realtime:V,global:G}=m,re={db:Object.assign(Object.assign({},R),g),auth:Object.assign(Object.assign({},M),$),realtime:Object.assign(Object.assign({},V),O),global:Object.assign(Object.assign({},G),E),accessToken:()=>{var oe,Le,Pe,Ue;return oe=this,Le=void 0,Ue=function*(){return""},new(Pe=void 0,Pe=Promise)(function(Ps,Rt){function $s(xe){try{ot(Ue.next(xe))}catch(Se){Rt(Se)}}function Os(xe){try{ot(Ue.throw(xe))}catch(Se){Rt(Se)}}function ot(xe){var Se;xe.done?Ps(xe.value):((Se=xe.value)instanceof Pe?Se:new Pe(function(Rs){Rs(Se)})).then($s,Os)}ot((Ue=Ue.apply(oe,Le||[])).next())})}};return u.accessToken?re.accessToken=u.accessToken:delete re.accessToken,re}(s??{},{db:Yt,realtime:Qt,auth:Object.assign(Object.assign({},Xt),{storageKey:c}),global:Vt});this.storageKey=(r=h.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(u,m)=>{throw Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=ts(t,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},h.realtime)),this.rest=new Oe(`${o}/rest/v1`,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new ce(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Wt(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t,s,r,i,a;return s=this,r=void 0,i=void 0,a=function*(){if(this.accessToken)return yield this.accessToken();let{data:o}=yield this.auth.getSession();return(t=(e=o.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null},new(i||(i=Promise))(function(o,c){function h(g){try{m(a.next(g))}catch($){c($)}}function u(g){try{m(a.throw(g))}catch($){c($)}}function m(g){var $;g.done?o(g.value):(($=g.value)instanceof i?$:new i(function(O){O($)})).then(h,u)}m((a=a.apply(s,r||[])).next())})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:r,storageKey:i,flowType:a,lock:o,debug:c},h,u){var m;let g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ss({url:this.authUrl,headers:Object.assign(Object.assign({},g),h),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:r,flowType:a,lock:o,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Dt(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.realtime.setAuth(s??null),this.changedAccessToken=s):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}let js=(n,e,t)=>new Es(n,e,t),at=null;function _e(){if(!at){let n=process.env.NEXT_PUBLIC_SUPABASE_URL||process.env.SUPABASE_URL,e=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||process.env.SUPABASE_ANON_KEY;if(!n||!e)throw Error("Supabase environment variables are not configured");at=js(n,e)}return at}function Ts(){let[n,e]=(0,F.useState)(1),[t,s]=(0,F.useState)(!1),[r,i]=(0,F.useState)(null),[a,o]=(0,F.useState)("starter"),[c,h]=(0,F.useState)(1),[u,m]=(0,F.useState)({title:"",description:"",city:"",locality:"",property_type:"Apartment",bedrooms:"",bathrooms:"",price_inr:"",sqft:"",images:[]});async function g(){let{data:{session:E}}=await _e().auth.getSession();if(E)return E;let R=prompt("Enter your email to continue:");if(!R)throw Error("Email required");let{error:M}=await _e().auth.signInWithOtp({email:R});throw M||(alert("Check your email for a login link, then return to this page."),Error("Pending login"))}async function $(E){let R=E.target.files;if(R&&R.length){s(!0),i("Uploading images\u2026");try{let{data:{user:M}}=await _e().auth.getUser();if(!M)throw Error("Login required");let V=[];for(let G of Array.from(R)){let re=`${M.id}/${Date.now()}_${G.name}`,{data:oe,error:Le}=await _e().storage.from("property-images").upload(re,G);if(Le)throw Le;let{data:Pe}=_e().storage.from("property-images").getPublicUrl(oe.path);V.push(Pe.publicUrl)}m(G=>({...G,images:[...G.images,...V]})),i("Images uploaded \u2714")}catch(M){i(M?.message||"Upload failed")}finally{s(!1)}}}async function O(E){E.preventDefault(),s(!0),i("Saving\u2026");try{let R=(await g()).user.id,M={title:u.title.trim(),description:u.description.trim(),city:u.city.trim(),locality:u.locality.trim()||null,property_type:u.property_type,bedrooms:Number(u.bedrooms)||null,bathrooms:Number(u.bathrooms)||null,price_inr:Number(u.price_inr)||0,sqft:Number(u.sqft)||null,images:u.images,builder_id:R,listing_status:"active"};if(Number.isFinite(c)){let{count:G}=await _e().from("properties").select("id",{count:"exact",head:!0}).eq("builder_id",R).eq("listing_status","active");if((G||0)>=c){i(`Your plan (${a}) allows ${c} active project${c===1?"":"s"}. Upgrade on Pricing.`);return}}let{error:V}=await _e().from("properties").insert([M]);if(V)throw V;i("Submitted! Pending verification."),e(3)}catch(R){i(R?.message||"Save failed")}finally{s(!1)}}return async function(){try{let{data:{session:E}}=await _e().auth.getSession();if(!E?.user?.email)return;let{data:R}=await _e().from("org_subscriptions").select("tier,status").eq("email",E.user.email).maybeSingle(),M=R?.tier||"starter";o(M),h(M==="scale"?Number.POSITIVE_INFINITY:M==="growth"?5:1)}catch{}}(),(0,k.jsxs)("main",{className:"mx-auto max-w-3xl px-6 py-8",children:[(0,k.jsx)("h1",{className:"text-2xl font-bold text-fg mb-2",children:"List your property"}),(0,k.jsx)("p",{className:"text-fgMuted mb-2",children:"Simple onboarding for builders. Logged in users can save drafts and submit for verification."}),(0,k.jsxs)("div",{className:"mb-6 text-sm text-fgMuted",children:["Your plan: ",(0,k.jsx)("b",{className:"text-fg",children:a}),". Active project limit: ",Number.isFinite(c)?c:"Unlimited"," \u2022 ",(0,k.jsx)("a",{className:"underline",href:"/pricing/",children:"See pricing"})]}),r&&(0,k.jsx)(B.Zb,{className:"mb-4 text-sm",children:(0,k.jsx)("div",{children:r})}),n===1&&(0,k.jsxs)("form",{onSubmit:E=>{E.preventDefault(),e(2)},className:"space-y-4",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Title"}),(0,k.jsx)(B.II,{required:!0,value:u.title,onChange:E=>m({...u,title:E.target.value})})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Description"}),(0,k.jsx)(B.Kx,{required:!0,rows:4,value:u.description,onChange:E=>m({...u,description:E.target.value})})]}),(0,k.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"City"}),(0,k.jsx)(B.II,{required:!0,value:u.city,onChange:E=>m({...u,city:E.target.value})})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Locality"}),(0,k.jsx)(B.II,{value:u.locality,onChange:E=>m({...u,locality:E.target.value})})]})]}),(0,k.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Type"}),(0,k.jsxs)(B.Ph,{value:u.property_type,onChange:E=>m({...u,property_type:E.target.value}),children:[(0,k.jsx)("option",{children:"Apartment"}),(0,k.jsx)("option",{children:"Villa"}),(0,k.jsx)("option",{children:"Plot"}),(0,k.jsx)("option",{children:"Commercial"})]})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Bedrooms"}),(0,k.jsx)(B.II,{value:u.bedrooms,onChange:E=>m({...u,bedrooms:E.target.value})})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Bathrooms"}),(0,k.jsx)(B.II,{value:u.bathrooms,onChange:E=>m({...u,bathrooms:E.target.value})})]})]}),(0,k.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Price (\u20B9)"}),(0,k.jsx)(B.II,{required:!0,value:u.price_inr,onChange:E=>m({...u,price_inr:E.target.value})})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Area (sqft)"}),(0,k.jsx)(B.II,{value:u.sqft,onChange:E=>m({...u,sqft:E.target.value})})]})]}),(0,k.jsx)("div",{className:"flex justify-end",children:(0,k.jsx)(B.zx,{children:"Next"})})]}),n===2&&(0,k.jsxs)("form",{onSubmit:O,className:"space-y-4",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Upload images"}),(0,k.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:$}),u.images.length>0&&(0,k.jsx)("div",{className:"mt-2 grid grid-cols-3 gap-2",children:u.images.map((E,R)=>(0,k.jsx)("img",{src:E,alt:"",className:"h-24 w-full object-cover rounded"},R))})]}),(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsx)(B.zx,{type:"button",variant:"secondary",onClick:()=>e(1),children:"Back"}),(0,k.jsx)(B.zx,{disabled:t,children:"Submit"})]})]}),n===3&&(0,k.jsxs)(B.Zb,{children:[(0,k.jsx)("div",{className:"font-semibold text-fg",children:"Thanks! Your property is submitted."}),(0,k.jsx)("div",{className:"text-fgMuted text-sm",children:"We\u2019ll verify details and make it visible to buyers shortly."})]})]})}},96662:(K,j,p)=>{"use strict";p.r(j),p.d(j,{Headers:()=>T,Request:()=>d,Response:()=>l,default:()=>v,fetch:()=>x});var y=function(){if(typeof A<"u")return A;if(typeof window<"u")return window;if(p.g!==void 0)return p.g;throw Error("unable to locate global object")}();let x=y.fetch,v=y.fetch.bind(y),T=y.Headers,d=y.Request,l=y.Response},42967:function(K,j,p){"use strict";var y=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(j,"__esModule",{value:!0});let x=y(p(96662)),v=y(p(21778));class T{constructor(l){this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=l.headers,this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=l.shouldThrowOnError,this.signal=l.signal,this.isMaybeSingle=l.isMaybeSingle,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=x.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,f){return this.headers=Object.assign({},this.headers),this.headers[l]=f,this}then(l,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let b=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async P=>{var w,U,k;let F=null,B=null,Q=null,Y=P.status,W=P.statusText;if(P.ok){if(this.method!=="HEAD"){let ce=await P.text();ce===""||(B=this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?ce:JSON.parse(ce))}let ne=(w=this.headers.Prefer)===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),Z=(U=P.headers.get("content-range"))===null||U===void 0?void 0:U.split("/");ne&&Z&&Z.length>1&&(Q=parseInt(Z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(B)&&(B.length>1?(F={code:"PGRST116",details:`Results contain ${B.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},B=null,Q=null,Y=406,W="Not Acceptable"):B=B.length===1?B[0]:null)}else{let ne=await P.text();try{F=JSON.parse(ne),Array.isArray(F)&&P.status===404&&(B=[],F=null,Y=200,W="OK")}catch{P.status===404&&ne===""?(Y=204,W="No Content"):F={message:ne}}if(F&&this.isMaybeSingle&&((k=F?.details)===null||k===void 0?void 0:k.includes("0 rows"))&&(F=null,Y=200,W="OK"),F&&this.shouldThrowOnError)throw new v.default(F)}return{error:F,data:B,count:Q,status:Y,statusText:W}});return this.shouldThrowOnError||(b=b.catch(P=>{var w,U,k;return{error:{message:`${(w=P?.name)!==null&&w!==void 0?w:"FetchError"}: ${P?.message}`,details:`${(U=P?.stack)!==null&&U!==void 0?U:""}`,hint:"",code:`${(k=P?.code)!==null&&k!==void 0?k:""}`},data:null,count:null,status:0,statusText:""}})),b.then(l,f)}}j.default=T},5937:function(K,j,p){"use strict";var y=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(j,"__esModule",{value:!0});let x=y(p(93414)),v=y(p(35535)),T=p(7375);class d{constructor(f,{headers:b={},schema:P,fetch:w}={}){this.url=f,this.headers=Object.assign(Object.assign({},T.DEFAULT_HEADERS),b),this.schemaName=P,this.fetch=w}from(f){let b=new URL(`${this.url}/${f}`);return new x.default(b,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(f){return new d(this.url,{headers:this.headers,schema:f,fetch:this.fetch})}rpc(f,b={},{head:P=!1,get:w=!1,count:U}={}){let k,F,B=new URL(`${this.url}/rpc/${f}`);P||w?(k=P?"HEAD":"GET",Object.entries(b).filter(([Y,W])=>W!==void 0).map(([Y,W])=>[Y,Array.isArray(W)?`{${W.join(",")}}`:`${W}`]).forEach(([Y,W])=>{B.searchParams.append(Y,W)})):(k="POST",F=b);let Q=Object.assign({},this.headers);return U&&(Q.Prefer=`count=${U}`),new v.default({method:k,url:B,headers:Q,schema:this.schemaName,body:F,fetch:this.fetch,allowEmpty:!1})}}j.default=d},21778:(K,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});class p extends Error{constructor(x){super(x.message),this.name="PostgrestError",this.details=x.details,this.hint=x.hint,this.code=x.code}}j.default=p},35535:function(K,j,p){"use strict";var y=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(j,"__esModule",{value:!0});let x=y(p(71991));class v extends x.default{eq(d,l){return this.url.searchParams.append(d,`eq.${l}`),this}neq(d,l){return this.url.searchParams.append(d,`neq.${l}`),this}gt(d,l){return this.url.searchParams.append(d,`gt.${l}`),this}gte(d,l){return this.url.searchParams.append(d,`gte.${l}`),this}lt(d,l){return this.url.searchParams.append(d,`lt.${l}`),this}lte(d,l){return this.url.searchParams.append(d,`lte.${l}`),this}like(d,l){return this.url.searchParams.append(d,`like.${l}`),this}likeAllOf(d,l){return this.url.searchParams.append(d,`like(all).{${l.join(",")}}`),this}likeAnyOf(d,l){return this.url.searchParams.append(d,`like(any).{${l.join(",")}}`),this}ilike(d,l){return this.url.searchParams.append(d,`ilike.${l}`),this}ilikeAllOf(d,l){return this.url.searchParams.append(d,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(d,l){return this.url.searchParams.append(d,`ilike(any).{${l.join(",")}}`),this}is(d,l){return this.url.searchParams.append(d,`is.${l}`),this}in(d,l){let f=Array.from(new Set(l)).map(b=>typeof b=="string"&&RegExp("[,()]").test(b)?`"${b}"`:`${b}`).join(",");return this.url.searchParams.append(d,`in.(${f})`),this}contains(d,l){return typeof l=="string"?this.url.searchParams.append(d,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(d,`cs.{${l.join(",")}}`):this.url.searchParams.append(d,`cs.${JSON.stringify(l)}`),this}containedBy(d,l){return typeof l=="string"?this.url.searchParams.append(d,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(d,`cd.{${l.join(",")}}`):this.url.searchParams.append(d,`cd.${JSON.stringify(l)}`),this}rangeGt(d,l){return this.url.searchParams.append(d,`sr.${l}`),this}rangeGte(d,l){return this.url.searchParams.append(d,`nxl.${l}`),this}rangeLt(d,l){return this.url.searchParams.append(d,`sl.${l}`),this}rangeLte(d,l){return this.url.searchParams.append(d,`nxr.${l}`),this}rangeAdjacent(d,l){return this.url.searchParams.append(d,`adj.${l}`),this}overlaps(d,l){return typeof l=="string"?this.url.searchParams.append(d,`ov.${l}`):this.url.searchParams.append(d,`ov.{${l.join(",")}}`),this}textSearch(d,l,{config:f,type:b}={}){let P="";b==="plain"?P="pl":b==="phrase"?P="ph":b==="websearch"&&(P="w");let w=f===void 0?"":`(${f})`;return this.url.searchParams.append(d,`${P}fts${w}.${l}`),this}match(d){return Object.entries(d).forEach(([l,f])=>{this.url.searchParams.append(l,`eq.${f}`)}),this}not(d,l,f){return this.url.searchParams.append(d,`not.${l}.${f}`),this}or(d,{foreignTable:l,referencedTable:f=l}={}){let b=f?`${f}.or`:"or";return this.url.searchParams.append(b,`(${d})`),this}filter(d,l,f){return this.url.searchParams.append(d,`${l}.${f}`),this}}j.default=v},93414:function(K,j,p){"use strict";var y=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(j,"__esModule",{value:!0});let x=y(p(35535));class v{constructor(d,{headers:l={},schema:f,fetch:b}){this.url=d,this.headers=l,this.schema=f,this.fetch=b}select(d,{head:l=!1,count:f}={}){let b=!1,P=(d??"*").split("").map(w=>/\s/.test(w)&&!b?"":(w==='"'&&(b=!b),w)).join("");return this.url.searchParams.set("select",P),f&&(this.headers.Prefer=`count=${f}`),new x.default({method:l?"HEAD":"GET",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(d,{count:l,defaultToNull:f=!0}={}){let b=[];if(this.headers.Prefer&&b.push(this.headers.Prefer),l&&b.push(`count=${l}`),f||b.push("missing=default"),this.headers.Prefer=b.join(","),Array.isArray(d)){let P=d.reduce((w,U)=>w.concat(Object.keys(U)),[]);if(P.length>0){let w=[...new Set(P)].map(U=>`"${U}"`);this.url.searchParams.set("columns",w.join(","))}}return new x.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:this.fetch,allowEmpty:!1})}upsert(d,{onConflict:l,ignoreDuplicates:f=!1,count:b,defaultToNull:P=!0}={}){let w=[`resolution=${f?"ignore":"merge"}-duplicates`];if(l!==void 0&&this.url.searchParams.set("on_conflict",l),this.headers.Prefer&&w.push(this.headers.Prefer),b&&w.push(`count=${b}`),P||w.push("missing=default"),this.headers.Prefer=w.join(","),Array.isArray(d)){let U=d.reduce((k,F)=>k.concat(Object.keys(F)),[]);if(U.length>0){let k=[...new Set(U)].map(F=>`"${F}"`);this.url.searchParams.set("columns",k.join(","))}}return new x.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:this.fetch,allowEmpty:!1})}update(d,{count:l}={}){let f=[];return this.headers.Prefer&&f.push(this.headers.Prefer),l&&f.push(`count=${l}`),this.headers.Prefer=f.join(","),new x.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:this.fetch,allowEmpty:!1})}delete({count:d}={}){let l=[];return d&&l.push(`count=${d}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new x.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}j.default=v},71991:function(K,j,p){"use strict";var y=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(j,"__esModule",{value:!0});let x=y(p(42967));class v extends x.default{select(d){let l=!1,f=(d??"*").split("").map(b=>/\s/.test(b)&&!l?"":(b==='"'&&(l=!l),b)).join("");return this.url.searchParams.set("select",f),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(d,{ascending:l=!0,nullsFirst:f,foreignTable:b,referencedTable:P=b}={}){let w=P?`${P}.order`:"order",U=this.url.searchParams.get(w);return this.url.searchParams.set(w,`${U?`${U},`:""}${d}.${l?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(d,{foreignTable:l,referencedTable:f=l}={}){let b=f===void 0?"limit":`${f}.limit`;return this.url.searchParams.set(b,`${d}`),this}range(d,l,{foreignTable:f,referencedTable:b=f}={}){let P=b===void 0?"offset":`${b}.offset`,w=b===void 0?"limit":`${b}.limit`;return this.url.searchParams.set(P,`${d}`),this.url.searchParams.set(w,`${l-d+1}`),this}abortSignal(d){return this.signal=d,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:d=!1,verbose:l=!1,settings:f=!1,buffers:b=!1,wal:P=!1,format:w="text"}={}){var U;let k=[d?"analyze":null,l?"verbose":null,f?"settings":null,b?"buffers":null,P?"wal":null].filter(Boolean).join("|"),F=(U=this.headers.Accept)!==null&&U!==void 0?U:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${w}; for="${F}"; options=${k};`,this}rollback(){var d;return((d=this.headers.Prefer)!==null&&d!==void 0?d:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}j.default=v},7375:(K,j,p)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.DEFAULT_HEADERS=void 0;let y=p(1784);j.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${y.version}`}},33069:function(K,j,p){"use strict";var y=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(j,"__esModule",{value:!0}),j.PostgrestBuilder=j.PostgrestTransformBuilder=j.PostgrestFilterBuilder=j.PostgrestQueryBuilder=j.PostgrestClient=void 0;let x=y(p(5937));j.PostgrestClient=x.default;let v=y(p(93414));j.PostgrestQueryBuilder=v.default;let T=y(p(35535));j.PostgrestFilterBuilder=T.default;let d=y(p(71991));j.PostgrestTransformBuilder=d.default;let l=y(p(42967));j.PostgrestBuilder=l.default,j.default={PostgrestClient:x.default,PostgrestQueryBuilder:v.default,PostgrestFilterBuilder:T.default,PostgrestTransformBuilder:d.default,PostgrestBuilder:l.default}},1784:(K,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.version=void 0,j.version="0.0.0-automated"},60090:K=>{"use strict";K.exports=function(){throw Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},70403:(K,j,p)=>{"use strict";p.r(j),p.d(j,{default:()=>P,dynamic:()=>b,runtime:()=>f});var y=p(23393),x=p(56087);let v=(0,x.D)(String.raw`/workspace/app/app/builders/add-property/AddPropertyClient.tsx`),{__esModule:T,$$typeof:d}=v;v.default;let l=(0,x.D)(String.raw`/workspace/app/app/builders/add-property/AddPropertyClient.tsx#default`),f="edge",b="force-dynamic";function P(){return(0,y.jsx)(l,{})}}},K=>{var j=y=>K(K.s=y);K.O(0,[5042,6522,9936,6487],()=>j(76032));var p=K.O();(C._ENTRIES=typeof C._ENTRIES>"u"?{}:C._ENTRIES)["middleware_app/builders/add-property/page"]=p}]),function(){let K={exports:{},loaded:!1};return function(p,y){var x=Object.create,v=Object.defineProperty,T=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,l=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty,b=S=>v(S,"__esModule",{value:!0}),P=(S,q)=>{b(S);for(var N in q)v(S,N,{get:q[N],enumerable:!0})},w=(S,q,N)=>{if(q&&typeof q=="object"||typeof q=="function")for(let I of d(q))!f.call(S,I)&&I!=="default"&&v(S,I,{get:()=>q[I],enumerable:!(N=T(q,I))||N.enumerable});return S},U=S=>w(b(v(S!=null?x(l(S)):{},"default",S&&S.__esModule&&"default"in S?{get:()=>S.default,enumerable:!0}:{value:S,enumerable:!0})),S);P(y,{default:()=>Oe});var k=U((Ct(),Ls(De))),F="@next/request-context",B=Symbol.for(F),Q=Symbol.for("internal.storage");function Y(){let S=C;if(!S[B]){let q=new k.AsyncLocalStorage,N={get:()=>q.getStore(),[Q]:q};S[B]=N}return S[B]}var W=Y();function ne(S,q){return W[Q].run(S,q)}function Z(S){let q={};return S&&S.forEach((N,I)=>{q[I]=N,I.toLowerCase()==="set-cookie"&&(q[I]=ce(N))}),q}function ce(S){let q=[],N=0,I,te,H,le,he;function ie(){for(;N<S.length&&/\s/.test(S.charAt(N));)N+=1;return N<S.length}function ue(){return te=S.charAt(N),te!=="="&&te!==";"&&te!==","}for(;N<S.length;){for(I=N,he=!1;ie();)if(te=S.charAt(N),te===","){for(H=N,N+=1,ie(),le=N;N<S.length&&ue();)N+=1;N<S.length&&S.charAt(N)==="="?(he=!0,N=le,q.push(S.substring(I,H)),I=N):N=H+1}else N+=1;(!he||N>=S.length)&&q.push(S.substring(I,S.length))}return q}function Oe(S){let q=S.staticRoutes.map(I=>({regexp:new RegExp(I.namedRegex),page:I.page})),N=S.dynamicRoutes?.map(I=>({regexp:new RegExp(I.namedRegex),page:I.page}))||[];return async function(I,te){let H=new URL(I.url).pathname,le={};if(S.nextConfig?.basePath&&H.startsWith(S.nextConfig.basePath)&&(H=H.replace(S.nextConfig.basePath,"")||"/"),S.nextConfig?.i18n)for(let ie of S.nextConfig.i18n.locales){let ue=new RegExp(`^/${ie}($|/)`,"i");if(H.match(ue)){H=H.replace(ue,"/")||"/";break}}for(let ie of q)if(ie.regexp.exec(H)){le.name=ie.page;break}if(!le.name){let ie=ye(H);for(let ue of N||[]){if(ie&&!ye(ue.page))continue;let Fe=ue.regexp.exec(H);if(Fe){le={name:ue.page,params:Fe.groups};break}}}let he=await ne({waitUntil:te.waitUntil},()=>C._ENTRIES[`middleware_${S.name}`].default.call({},{request:{url:I.url,method:I.method,headers:Z(I.headers),ip:de(I.headers,ee.Ip),geo:{city:de(I.headers,ee.City,!0),country:de(I.headers,ee.Country,!0),latitude:de(I.headers,ee.Latitude),longitude:de(I.headers,ee.Longitude),region:de(I.headers,ee.Region,!0)},nextConfig:S.nextConfig,page:le,body:I.body}}));return he.waitUntil&&te.waitUntil(he.waitUntil),he.response}}function de(S,q,N=!1){let I=S.get(q)||void 0;return N&&I?decodeURIComponent(I):I}function ye(S){return S==="/api"||S.startsWith("/api/")}var ee;(function(S){S.City="x-vercel-ip-city",S.Country="x-vercel-ip-country",S.Ip="x-real-ip",S.Latitude="x-vercel-ip-latitude",S.Longitude="x-vercel-ip-longitude",S.Region="x-vercel-ip-country-region"})(ee||(ee={}))}(K,K.exports),K.exports}.call({}).default({name:"app/builders/add-property/page",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/admin",regex:"^/admin(?:/)?$",routeKeys:{},namedRegex:"^/admin(?:/)?$"},{page:"/admin/leads",regex:"^/admin/leads(?:/)?$",routeKeys:{},namedRegex:"^/admin/leads(?:/)?$"},{page:"/admin/settings",regex:"^/admin/settings(?:/)?$",routeKeys:{},namedRegex:"^/admin/settings(?:/)?$"},{page:"/admin/verify",regex:"^/admin/verify(?:/)?$",routeKeys:{},namedRegex:"^/admin/verify(?:/)?$"},{page:"/app",regex:"^/app(?:/)?$",routeKeys:{},namedRegex:"^/app(?:/)?$"},{page:"/app/saas",regex:"^/app/saas(?:/)?$",routeKeys:{},namedRegex:"^/app/saas(?:/)?$"},{page:"/app/saas/dashboard",regex:"^/app/saas/dashboard(?:/)?$",routeKeys:{},namedRegex:"^/app/saas/dashboard(?:/)?$"},{page:"/app/saas/pricing",regex:"^/app/saas/pricing(?:/)?$",routeKeys:{},namedRegex:"^/app/saas/pricing(?:/)?$"},{page:"/builder",regex:"^/builder(?:/)?$",routeKeys:{},namedRegex:"^/builder(?:/)?$"},{page:"/builder/leads",regex:"^/builder/leads(?:/)?$",routeKeys:{},namedRegex:"^/builder/leads(?:/)?$"},{page:"/builder/leads/pipeline",regex:"^/builder/leads/pipeline(?:/)?$",routeKeys:{},namedRegex:"^/builder/leads/pipeline(?:/)?$"},{page:"/builders/add-property",regex:"^/builders/add\\-property(?:/)?$",routeKeys:{},namedRegex:"^/builders/add\\-property(?:/)?$"},{page:"/dashboard/map",regex:"^/dashboard/map(?:/)?$",routeKeys:{},namedRegex:"^/dashboard/map(?:/)?$"},{page:"/dashboard/market",regex:"^/dashboard/market(?:/)?$",routeKeys:{},namedRegex:"^/dashboard/market(?:/)?$"},{page:"/embed/how-it-works",regex:"^/embed/how\\-it\\-works(?:/)?$",routeKeys:{},namedRegex:"^/embed/how\\-it\\-works(?:/)?$"},{page:"/filters/radial",regex:"^/filters/radial(?:/)?$",routeKeys:{},namedRegex:"^/filters/radial(?:/)?$"},{page:"/login",regex:"^/login(?:/)?$",routeKeys:{},namedRegex:"^/login(?:/)?$"},{page:"/saas",regex:"^/saas(?:/)?$",routeKeys:{},namedRegex:"^/saas(?:/)?$"},{page:"/saas/analytics",regex:"^/saas/analytics(?:/)?$",routeKeys:{},namedRegex:"^/saas/analytics(?:/)?$"},{page:"/saas/dashboard",regex:"^/saas/dashboard(?:/)?$",routeKeys:{},namedRegex:"^/saas/dashboard(?:/)?$"},{page:"/saas/pricing",regex:"^/saas/pricing(?:/)?$",routeKeys:{},namedRegex:"^/saas/pricing(?:/)?$"},{page:"/saas/workflows",regex:"^/saas/workflows(?:/)?$",routeKeys:{},namedRegex:"^/saas/workflows(?:/)?$"},{page:"/saved",regex:"^/saved(?:/)?$",routeKeys:{},namedRegex:"^/saved(?:/)?$"},{page:"/sitemap.xml",regex:"^/sitemap\\.xml(?:/)?$",routeKeys:{},namedRegex:"^/sitemap\\.xml(?:/)?$"},{page:"/tools/cost-calculator",regex:"^/tools/cost\\-calculator(?:/)?$",routeKeys:{},namedRegex:"^/tools/cost\\-calculator(?:/)?$"},{page:"/tools/currency-risk",regex:"^/tools/currency\\-risk(?:/)?$",routeKeys:{},namedRegex:"^/tools/currency\\-risk(?:/)?$"},{page:"/tools/environment",regex:"^/tools/environment(?:/)?$",routeKeys:{},namedRegex:"^/tools/environment(?:/)?$"},{page:"/tools/remote-management",regex:"^/tools/remote\\-management(?:/)?$",routeKeys:{},namedRegex:"^/tools/remote\\-management(?:/)?$"},{page:"/tools/roi",regex:"^/tools/roi(?:/)?$",routeKeys:{},namedRegex:"^/tools/roi(?:/)?$"},{page:"/tools/vastu",regex:"^/tools/vastu(?:/)?$",routeKeys:{},namedRegex:"^/tools/vastu(?:/)?$"},{page:"/tools/verification",regex:"^/tools/verification(?:/)?$",routeKeys:{},namedRegex:"^/tools/verification(?:/)?$"},{page:"/tools/voice-tamil",regex:"^/tools/voice\\-tamil(?:/)?$",routeKeys:{},namedRegex:"^/tools/voice\\-tamil(?:/)?$"},{page:"/tours",regex:"^/tours(?:/)?$",routeKeys:{},namedRegex:"^/tours(?:/)?$"},{page:"/tours/ar-staging",regex:"^/tours/ar\\-staging(?:/)?$",routeKeys:{},namedRegex:"^/tours/ar\\-staging(?:/)?$"},{page:"/tours/hotspots",regex:"^/tours/hotspots(?:/)?$",routeKeys:{},namedRegex:"^/tours/hotspots(?:/)?$"},{page:"/unauthorized",regex:"^/unauthorized(?:/)?$",routeKeys:{},namedRegex:"^/unauthorized(?:/)?$"}],dynamicRoutes:[{page:"/api/builder/leads/[id]",regex:"^/api/builder/leads/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/builder/leads/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/builder/leads/[id]",regex:"^/builder/leads/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/builder/leads/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/microsite/[id]",regex:"^/microsite/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/microsite/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/[locale]",regex:"^/([^/]+?)(?:/)?$",routeKeys:{nxtPlocale:"nxtPlocale"},namedRegex:"^/(?<nxtPlocale>[^/]+?)(?:/)?$"}],nextConfig:{basePath:""}})))(z,z,z);export{da as default};
