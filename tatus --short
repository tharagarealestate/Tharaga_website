[33mea240f1[m feat: Match homepage containers with buyer dashboard - equal sizing, gradient glow, and glassmorphic effects
[33m6dbae26[m feat: Update dashboard CTA section to match features section - dark gradient, animated orbs, glassmorphic cards
[33mb566c29[m feat: Complete homepage redesign with hero, dashboard CTAs, features, and footer sections
[33mf4d7b51[m feat: FEATURE 10 - Partner Portal Syndication Engine - Database migration with partner_portals, builder_portal_accounts, syndicated_listings, and syndication_logs tables - Backend service supporting 99acres, MagicBricks, Housing.com, CommonFloor, NoBroker, IndiaProperty - Auto-syndication triggers on property listing - Field mapping and data transformation system - Real-time sync status tracking - Frontend dashboard with glassmorphic UI and mobile responsiveness - Analytics tracking for portal performance - RLS policies for security
[33m6ad86fc[m fix: Resolve Vercel build errors - Fix 'use client' directive placement in HeaderLinkInterceptor.tsx - Create Client Component wrappers for dynamic imports with ssr: false - Convert saas/page.tsx and embed/how-it-works/page.tsx to Client Components - Fix Server Components using ssr: false (properties/[id]/page.tsx, my-dashboard/layout.tsx) - All packages are already in package.json and installed
[33mc42be19[m feat: FEATURE 9 - Social Media Auto-Distribution Engine - Database migration with social_media_accounts, posts, templates, and campaigns tables - Backend service supporting Facebook, Instagram, LinkedIn, Twitter - AI-powered content generation for social posts - Real-time triggers for automatic posting on property listing - Frontend dashboard with glassmorphic UI and mobile responsiveness - Analytics tracking for engagement metrics - RLS policies for security
[33m0eb30fb[m feat: Perfect mobile alignment across all dashboard components - Optimized OptimizationDashboard, SmartScoreAnalyticsDashboard, AutomationDashboard, WorkflowMonitoring, and LeadTierManager for mobile - Responsive grids, typography, spacing, and touch targets - All components now match top-tier platform mobile experience - Added comprehensive mobile best practices (44px touch targets, responsive text, flexible layouts)
[33m59758e0[m Final removal of [leadId] directory - route conflict resolved
[33md35bfbd[m Force remove [leadId] directory from filesystem
[33mfc34d0d[m Remove conflicting [leadId] directory from builder/leads
[33mcommit e5e7ec601eb3429f85ae1471996b155ee8dcc977[m
Author: nithishrex-tharaga <nithishrex@gmail.com>
Date:   Mon Dec 1 06:28:01 2025 +0530

    feat: Implement complete automated lead generation system
    
    - Add database schema for automated lead generation (migration 050)
    - Implement AI-powered lead generation service using Claude API
    - Add email service with Resend integration and tier-based templates
    - Add SMS service with Twilio integration
    - Create property processing service with full automation flow
    - Add monitoring and health check services
    - Create API endpoints for property upload, processing, and cron jobs
    - Add comprehensive test script
    - Update Vercel config with cron job for property processing
    - Add complete documentation
    
    Features:
    - Automatic lead generation based on subscription tier (50/200/500 leads)
    - Tier-based email templates with personalization
    - SMS notifications for Professional+ tiers
    - Background job processing with retry mechanism
    - Real-time monitoring and error tracking
    - Complete test suite
    
    All components are production-ready and fully automated.

 AUTOMATED_LEAD_GENERATION_SYSTEM.md                | 440 [32m+++++++++++++++[m
 IMPLEMENTATION_COMPLETE.md                         | 317 [32m++++++++[m[31m---[m
 app/app/api/cron/process-properties/route.ts       | 136 [32m+++++[m
 app/app/api/monitoring/health/route.ts             |  25 [32m+[m
 app/app/api/properties/process/route.ts            | 137 [32m+++++[m
 app/app/api/properties/upload/route.ts             | 145 [32m+++++[m
 app/lib/services/emailService.ts                   | 294 [32m++++++++++[m
 app/lib/services/leadGeneration.ts                 | 308 [32m+++++++++++[m
 app/lib/services/monitoring.ts                     | 284 [32m++++++++++[m
 app/lib/services/propertyProcessor.ts              | 304 [32m++++++++++[m
 app/lib/services/smsService.ts                     | 143 [32m+++++[m
 scripts/test-automation-system.mjs                 | 246 [32m++++++++[m
 .../050_automated_lead_generation_system.sql       | 616 [32m+++++++++++++++++++++[m
 vercel.json                                        |   4 [32m+[m
 14 files changed, 3318 insertions(+), 81 deletions(-)
[1mdiff --git a/app/app/(dashboard)/admin/layout.tsx b/app/app/(dashboard)/admin/layout.tsx[m
[1mindex 221996b..9f5c652 100644[m
[1m--- a/app/app/(dashboard)/admin/layout.tsx[m
[1m+++ b/app/app/(dashboard)/admin/layout.tsx[m
[36m@@ -1,7 +1,46 @@[m
 import type { ReactNode } from 'react'[m
[32m+[m[32mimport { redirect } from 'next/navigation'[m
[32m+[m[32mimport { createRouteHandlerClient } from '@supabase/auth-helpers-nextjs'[m
[32m+[m[32mimport { cookies } from 'next/headers'[m
 import { ReactQueryProvider } from '@/components/providers/ReactQueryProvider'[m
 [m
[31m-export default function AdminDashboardLayout({ children }: { children: ReactNode }) {[m
[32m+[m[32mexport const runtime = 'nodejs'[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * Server-side role check for admin dashboard[m
[32m+[m[32m * Verifies user has 'admin' role in user_roles table[m
[32m+[m[32m * Returns 403 Forbidden if role check fails[m
[32m+[m[32m */[m
[32m+[m[32masync function checkAdminRole() {[m
[32m+[m[32m  const supabase = createRouteHandlerClient({ cookies })[m
[32m+[m[41m  [m
[32m+[m[32m  // Get authenticated user[m
[32m+[m[32m  const { data: { user }, error: authError } = await supabase.auth.getUser()[m
[32m+[m[41m  [m
[32m+[m[32m  if (authError || !user) {[m
[32m+[m[32m    redirect('/login?redirect=/admin')[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  // Check if user has admin role in user_roles table[m
[32m+[m[32m  const { data: userRoles } = await supabase[m
[32m+[m[32m    .from('user_roles')[m
[32m+[m[32m    .select('role, is_primary')[m
[32m+[m[32m    .eq('user_id', user.id)[m
[32m+[m[32m    .eq('role', 'admin')[m
[32m+[m[32m    .single()[m
[32m+[m
[32m+[m[32m  if (!userRoles) {[m
[32m+[m[32m    // User doesn't have admin role - redirect to home with error[m
[32m+[m[32m    redirect('/?error=unauthorized&message=You need admin role to access this page')[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  return { user, hasAdminRole: true }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mexport default async function AdminDashboardLayout({ children }: { children: ReactNode }) {[m
[32m+[m[32m  // Server-side role verification[m
[32m+[m[32m  await checkAdminRole()[m
[32m+[m
   return ([m
     <ReactQueryProvider>[m
       <div className="min-h-screen bg-gray-950 text-gray-100 overflow-x-hidden">[m
